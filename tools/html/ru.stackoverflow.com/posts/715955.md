---
title: "Максимальный объем byte[] для передачи на веб-сервис"
---
<p><i><a href="https://github.com/MSDN-WhiteKnight/ruso-archive/">RuSO Archive</a></i></p>
<h1>Максимальный объем byte[] для передачи на веб-сервис</h1>
<p><a href="https://ru.stackoverflow.com/questions/715955/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%be%d0%b1%d1%8a%d0%b5%d0%bc-byte-%d0%b4%d0%bb%d1%8f-%d0%bf%d0%b5%d1%80%d0%b5%d0%b4%d0%b0%d1%87%d0%b8-%d0%bd%d0%b0-%d0%b2%d0%b5%d0%b1-%d1%81%d0%b5%d1%80%d0%b2%d0%b8%d1%81">Source</a> - by <a href="https://ru.stackoverflow.com/users/32098/e1s">e1s</a></p>
<blockquote>
<p>Есть метод веб-сервиса, один из параметров метода - строка, которая используется для передачи <code>byte[]</code>.</p>

<pre><code>file = Convert.ToBase64String(fileByteArray);
</code></pre>

<p>При больших размерах файлов очень часто возникает ошибка в том что не получается потом собрать исходный файл (либо ошибка при передаче по протоколу HTTP, либо возможно есть ограничение на размер строки).</p>

<p>Как лучше всего поступить в данном случае, спасибо</p>

</blockquote>
<h2>Answer 716834</h2>
<p><a href="https://ru.stackoverflow.com/a/716834/">Source</a> - by <a href="https://ru.stackoverflow.com/users/240512/msdn-whiteknight">MSDN.WhiteKnight</a></p>
<blockquote>
<p>Вы не написали используемые технологии и какая конкретно ошибка выводится, поэтому можно дать только общий ответ. В зависимости от ситуации, могут влиять разные ограничения, например:</p>

<p>При использовании WCF - параметр maxReceivedMessageSize (по умолчанию - 65536 байт), задается на сервере и на клиенте:
</p>

<pre><code>&lt;system.serviceModel&gt;
    &lt;bindings&gt;
      &lt;basicHttpBinding&gt;
        &lt;binding name="Binding1"
                 maxReceivedMessageSize = "1000000"&gt;
          &lt;security mode="None" /&gt;
        &lt;/binding&gt;
      &lt;/basicHttpBinding&gt;
    &lt;/bindings&gt;

&lt;/system.serviceModel&gt;
</code></pre>

<p>При размещении службы (WCF или ASMX) в IIS - параметры executionTimeout (по умолчанию 110 seconds) и maxRequestLength (по умолчанию 4096 KB):
</p>

<pre><code>&lt;system.web&gt;
  &lt;httpRuntime executionTimeout="240" maxRequestLength="20480" /&gt;
&lt;/system.web&gt;
</code></pre>

<p>Также, если размер файла настолько велик, что превышает доступную память на сервере, нужно смотреть в сторону <a href="https://msdn.microsoft.com/ru-ru/library/ms733742(v=vs.110).aspx#Streaming%20Data" rel="nofollow noreferrer">WCF Streaming</a> </p>

</blockquote>
<hr/>
<p><i>Content is retrieved from StackExchange API. </i></p>
<p><i>Auto-generated by ruso-archive tools. </i></p>
