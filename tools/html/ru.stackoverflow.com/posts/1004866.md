---
title: "Запуск exe отдельно от родительского процесса"
---
<p><i><a href="https://github.com/MSDN-WhiteKnight/ruso-archive/">RuSO Archive</a></i></p>
<h1>Запуск exe отдельно от родительского процесса</h1>
<p><a href="https://ru.stackoverflow.com/questions/1004866/%d0%97%d0%b0%d0%bf%d1%83%d1%81%d0%ba-exe-%d0%be%d1%82%d0%b4%d0%b5%d0%bb%d1%8c%d0%bd%d0%be-%d0%be%d1%82-%d1%80%d0%be%d0%b4%d0%b8%d1%82%d0%b5%d0%bb%d1%8c%d1%81%d0%ba%d0%be%d0%b3%d0%be-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81%d0%b0">Source</a> - by <a href="https://ru.stackoverflow.com/users/254287/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%9c%d0%b8%d0%b7%d0%b0%d0%bd%d1%82%d1%80%d0%be%d0%bf%d0%be%d0%b2%d0%b8%d1%87">Дмитрий Мизантропович</a></p>
<blockquote>
<pre><code>CreateProcess("C:\\Windows\notepad.exe", NULL, NULL, NULL, FALSE, DETACHED_PROCESS, NULL, NULL, &amp;si, &amp;pi);
</code></pre>

<p>Функция создаёт дочерний процесс как на рисунке<a href="https://i.stack.imgur.com/Z7cDo.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Z7cDo.png" alt="рисунок"></a></p>

<p>можно ли как то запустить notepad.exe отдельно от родительского процесса?</p>

</blockquote>
<h2>Answer 1006196</h2>
<p><a href="https://ru.stackoverflow.com/a/1006196/">Source</a> - by <a href="https://ru.stackoverflow.com/users/240512/msdn-whiteknight">MSDN.WhiteKnight</a></p>
<blockquote>
<p>Флаг <code>DETACHED_PROCESS</code> означает лишь одно - что создаваемый процесс будет иметь отдельную консоль. Если процесс не консольный, он не будет иметь вообще никакого эффекта. Windows все равно пометит, что процесс был создан вашей программой. Утилиты, которые строят дерево процессов на основе информации, возвращаемой функциями <a href="https://docs.microsoft.com/en-us/windows/win32/toolhelp/tool-help-functions" rel="nofollow noreferrer">Tool Help API</a> <code>Process32First</code>/<code>Process32Next</code> в поле <code>th32ParentProcessID</code> структуры <a href="https://docs.microsoft.com/en-us/windows/win32/api/tlhelp32/ns-tlhelp32-tagprocessentry32" rel="nofollow noreferrer">PROCESSENTRY32</a> будут считать его дочерним. Если пользователь нажмет в диспетчере задач для вашей программы "Завершить дерево процессов", созданный процесс будет также завершен. С этим не надо бороться, это сделано специально, чтобы в ситуациях, когда программа из-за бага плодит много процессов без видимых окон и зависает, можно было решить проблему и завершить все эти процессы.</p>

<p>Тем не менее, создать полностью независимый процесс, который не завершается по нажатии "Завершить дерево процессов", возможно. Для этого можно использовать, например,  <code>system("start notepad.exe");</code>. Команда start запускает notepad и сразу возвращает управление, командный интерпретатор закрывается. Тогда в дереве процессов с точки зрения Windows родительским процессом notepad.exe будет уже не существующий процесс командного интерпретатора; соответственно, дерево разорвано и связи с вашей программой нет.</p>

</blockquote>
<hr/>
<p><i>Content is retrieved from StackExchange API. </i></p>
<p><i>Auto-generated by ruso-archive tools. </i></p>
