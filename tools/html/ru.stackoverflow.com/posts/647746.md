---
title: "Не выводится графика в C# Windows Form"
---
<p><i><a href="https://github.com/MSDN-WhiteKnight/ruso-archive/">RuSO Archive</a></i></p>
<h1>Не выводится графика в C# Windows Form</h1>
<p><a href="https://ru.stackoverflow.com/questions/647746/%d0%9d%d0%b5-%d0%b2%d1%8b%d0%b2%d0%be%d0%b4%d0%b8%d1%82%d1%81%d1%8f-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d0%ba%d0%b0-%d0%b2-c-windows-form">Source</a> - by <a href="https://ru.stackoverflow.com/users/242768/svatoslav">Svatoslav</a></p>
<blockquote>
<p>работаю в MVisualStudio 2015, на Windows7. Надо написать функцию, которая по точка выводит несколько линий. 
основная часть кода  </p>

<pre><code>    private void My_Paint()
    {
        Graphics g = CreateGraphics();
        //g.DrawEllipse(new Pen(Color.Red), 10, 10, 50, 50);
        //g.DrawRectangle(new Pen(Color.Green), 70, 10, 50, 50);
        //g.DrawLine(new Pen(Color.Yellow), 130, 35, 150, 35 );
        Pen LineMaker = new Pen(Color.Red);
        for (byte n = 0; n &lt; kolvo_tochek - 1; n++)
            g.DrawLine(LineMaker, coordOld[n, 0], coordOld[n, 1], coordOld[n + 1, 0], coordOld[n + 1, 1]);
        g.DrawLine(LineMaker, coordOld[2, 0], coordOld[2, 1], coordOld[0, 0], coordOld[0, 1]);
        g.DrawLine(LineMaker, coordOld[0, 0], coordOld[0, 1], coordOld[3, 0], coordOld[3, 1]);
        g.DrawLine(LineMaker, coordOld[2, 0], coordOld[2, 1], coordOld[8, 0], coordOld[8, 1]);
        g.DrawLine(LineMaker, coordOld[2, 0], coordOld[2, 1], coordOld[8, 0], coordOld[8, 1]);
        //
        LineMaker = new Pen(Color.DarkBlue);
        for (byte n = 0; n &lt; kolvo_tochek - 1; n++)
            if (n != 2)
                g.DrawLine(LineMaker, coord[n, 0], coord[n, 1], coord[n + 1, 0], coord[n + 1, 1]);
        g.DrawLine(LineMaker, coord[0, 0], coord[0, 1], coord[3, 0], coord[3, 1]);
        g.DrawLine(LineMaker, coord[2, 0], coord[2, 1], coord[8, 0], coord[8, 1]);
        g.DrawLine(LineMaker, coord[2, 0], coord[2, 1], coord[8, 0], coord[8, 1]);
    }
</code></pre>

<p>перед рисованием инициализируем "домик" </p>

<pre><code>public uint[,] DefaultFigure()
    {
        uint[,] mypoints = new uint[kolvo_tochek, 3];
        for (sbyte n = 0; n &lt; kolvo_tochek; n++)
            mypoints[n, 2] = 1;
        //must be picture "house" 
        mypoints[0, 1] = mypoints[2, 1] = 20;
        mypoints[1, 0] = 50;
        mypoints[2, 0] = mypoints[3, 1] = mypoints[4, 1] = mypoints[7, 1] = mypoints[8, 0] = mypoints[8, 1] = 100;
        mypoints[4, 0] = mypoints[5, 0] = 30;
        mypoints[5, 1] = mypoints[6, 1] = 40;
        mypoints[6, 0] = mypoints[7, 0] = 70;
        return mypoints;
    }
</code></pre>

<p>Но всеравно чистый лист. Почему рисунок не выводится?
весь код <a href="https://yadi.sk/i/YY0w91Zs3GbNrx" rel="nofollow noreferrer">https://yadi.sk/i/YY0w91Zs3GbNrx</a></p>

</blockquote>
<h2>Answer 647766</h2>
<p><a href="https://ru.stackoverflow.com/a/647766/">Source</a> - by <a href="https://ru.stackoverflow.com/users/240512/msdn-whiteknight">MSDN.WhiteKnight</a></p>
<blockquote>
<p>Возможно, изображение переписывается другой процедурой после вашего рисования, поскольку вы рисуете не в том объекте Graphics. Объект Graphics нужно получать из аргументов события Paint, а не из CreateGraphics:</p>

<pre><code>private void form1_Paint(object sender, System.Windows.Forms.PaintEventArgs e)
{    
    Graphics g = e.Graphics;

    // Draw lines...

}
</code></pre>

<p>В том месте кода, где нужно обновить картинку, вызовите метод Refresh(). </p>

</blockquote>
<hr/>
<p><i>Content is retrieved from StackExchange API. </i></p>
<p><i>Auto-generated by ruso-archive tools. </i></p>
