---
title: "Post 777174"
---
<p><i><a href="https://github.com/MSDN-WhiteKnight/ruso-archive/">RuSO Archive</a></i></p>
<h1>Post 777174</h1>
<h2>Answer 777174</h2>
<p><a href="https://ru.stackoverflow.com/a/777174/">Source</a> - by <a href="https://ru.stackoverflow.com/users/240512/msdn-whiteknight">MSDN.WhiteKnight</a></p>
<blockquote>
<p>Задать относительный путь к БД с помощью подстановочной переменной |DataDirectory|, конечно, можно. Ее значение зависит от типа проекта:</p>

<ul>
<li>Для обычного настольного приложения - путь к папке с EXE-файлом</li>
<li>Для приложения ClickOnce - путь к специальной папке данных</li>
<li>Для ASP.NET приложений - путь к папке App_Data</li>
</ul>

<p>Можно переопределить значение в коде:</p>

<pre><code>AppDomain.CurrentDomain.SetData("DataDirectory", newpath)
</code></pre>

<p>См. <a href="https://blogs.msdn.microsoft.com/smartclientdata/2005/08/26/working-with-local-databases/" rel="nofollow noreferrer">данную статью</a>, <a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/connection-strings" rel="nofollow noreferrer">документацию</a>.</p>

<p>Что касается ошибки <em>An attempt to attach an auto-named database for file ... failed.</em>, у нее может быть много причин. Файл не существует, у учетной записи службы SQL не хватает прав, чтобы его открыть, БД с таким именем уже существует и т.п. Обычно использовать свойство <code>AttachDbFileName</code>, тем более с автогенерированным именем БД - не лучшая практика. Лучше создать программу или скрипт развертывания, который будет однократно присоединять БД с явно заданным именем, а в программе задать свойство <code>Initial Catalog</code>. Так будет куда проще обслуживать программу.</p>

</blockquote>
<hr/>
<p><i>Content is retrieved from StackExchange API. </i></p>
<p><i>Auto-generated by ruso-archive tools. </i></p>
