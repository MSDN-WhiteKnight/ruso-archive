---
title: "Post 876603"
---
<p><i><a href="https://github.com/MSDN-WhiteKnight/ruso-archive/">RuSO Archive</a></i></p>
<h1>Post 876603</h1>
<h2>Answer 876603</h2>
<p><a href="https://ru.stackoverflow.com/a/876603/">Source</a> - by <a href="https://ru.stackoverflow.com/users/240512/msdn-whiteknight">MSDN.WhiteKnight</a></p>
<blockquote>
<blockquote>
  <p>Вычищаю сборку из памяти. По крайней мере, я хочу в это верить</p>
</blockquote>

<p>Увы, эта вера не имеет оснований. Использованный вами способ загрузки сборки не только не позволяет выгрузить сборку из памяти без выгрузки всего домена приложений, но и при каждом повторном запуске будет грузить сборку с того же пути  заново (иными словами, это хороший способ исчерпать память при длительной работе программы). </p>

<p>Создайте <code>Dictionary &lt;string, Assembly&gt;</code> (где string будет путем к файлу) и кэшируйте все загружаемые сборки в нем. Можно использовать вместо пути CRC/хэш файла, если вам нужно как-то учесть само содержимое файла. Или грузить каждую сборку в новый домен приложений, тогда их можно будет выгрузить (вообще, это обычная практика при создании приложений с расширениями).</p>

</blockquote>
<hr/>
<p><i>Content is retrieved from StackExchange API. </i></p>
<p><i>Auto-generated by ruso-archive tools. </i></p>
