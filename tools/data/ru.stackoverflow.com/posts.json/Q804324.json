{"tags":["c++","файлы","кириллица"],"owner":{"reputation":59,"user_id":284713,"user_type":"registered","profile_image":"https://lh5.googleusercontent.com/-WHslxbg9rAQ/AAAAAAAAAAI/AAAAAAAAABM/-TGvCStVqkc/photo.jpg?sz=128","display_name":"Виктор Садовин","link":"https://ru.stackoverflow.com/users/284713/%d0%92%d0%b8%d0%ba%d1%82%d0%be%d1%80-%d0%a1%d0%b0%d0%b4%d0%be%d0%b2%d0%b8%d0%bd"},"is_answered":true,"view_count":214,"answer_count":1,"score":1,"last_activity_date":1522138486,"creation_date":1521971591,"last_edit_date":1522128513,"question_id":804324,"link":"https://ru.stackoverflow.com/questions/804324/%d0%a0%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-%d0%a0%d1%83%d1%81%d1%81%d0%ba%d0%b8%d0%bc-%d1%8f%d0%b7%d1%8b%d0%ba%d0%be%d0%bc-%d0%b2-visual-studio-c","title":"Работа с Русским языком в Visual Studio C++","body":"<p>Нашёл, как мне показалось, очень полезную статью: <a href=\"https://ru.stackoverflow.com/questions/459154/%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9-%D1%8F%D0%B7%D1%8B%D0%BA-%D0%B2-%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D0%B8\">ссылка</a></p>\n\n<p>Попробовал использовать \"Правильное, но сложное решение\", ничего к сожалению не вышло. Полностью перешёл с string на wstring, с консольных и файлов потоков на соответствующие расширенные потоки wcout, wcin, wifstream, так же с обычных С-строка на расширенные C-строки. Точнее из консоли получается взять Русские слова, а из файлов нет.\nПример:</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint wmain(int argc, wchar_t **argv)\n{\n    wifstream in{ \"input.txt\" };\n    wstring line;\n    getline(in, line);\n    wcout &lt;&lt; line &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>В итоге всё равно кракозябре в консоли и при отладке в \"line\", аналогичные кракозябры.</p>\n"}