{"tags":["c#","winforms","разработка-игр","graphics"],"owner":{"reputation":1005,"user_id":262458,"user_type":"registered","accept_rate":64,"profile_image":"https://i.stack.imgur.com/xLk55.png?s=128&g=1","display_name":"9Pasha","link":"https://ru.stackoverflow.com/users/262458/9pasha"},"is_answered":true,"view_count":1780,"accepted_answer_id":717438,"answer_count":2,"score":1,"last_activity_date":1505216360,"creation_date":1505076755,"question_id":716785,"link":"https://ru.stackoverflow.com/questions/716785/%d0%9f%d0%bb%d0%b0%d0%b2%d0%bd%d0%b0%d1%8f-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d0%ba%d0%b0-%d0%b2-c-windows-forms","title":"Плавная графика в C# (Windows Forms)","body":"<p>Пишу свой аналог игры osu!Catch the beat. Суть игры в том, что нужно ловить падающие объекты (ну для наглядности лучше загуглить игру). Графику отрисовываю на PictureBox. Есть список объектов (ну которые нужно ловить) и в событии таймера перемещаю их так:</p>\n\n<pre><code>foreach(fruit fr in f) //fruit - это класс того самого объекта\n// f - список объектов\n{\n     fr.move();\n     fr.draw(ref g);\n     //g - это Graphics, созданный из PictureBox\n}\n</code></pre>\n\n<p>Функции move() и draw() выглядят так:</p>\n\n<pre><code>public void move()\n{\n     p.Y += speed;\n     //где p - это Point, задающий положение объекта\n}\npublic void draw(ref Graphics g)\n{\n     g.DrawImage(image, p);\n     //image - картинка объекта (находится в данных класса)\n}\n</code></pre>\n\n<p>Проблема вот в чем. Интервал в таймере стоит 1ms. Если выставлять медленную скорость(конкретней - переменную speed ~ 20-30) - да, будет плавно. Но если поставить её больше (скажем 100) - то понятное дело плавность исчезнет, поскольку перемещение за раз происходит аж на 100 пикселей. </p>\n\n<p>И вот как добиться нужной скорости, при этом не теряя плавность? </p>\n"}