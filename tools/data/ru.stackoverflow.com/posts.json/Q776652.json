{"tags":["c#","sql-server","sql-server-localdb"],"owner":{"reputation":195,"user_id":282842,"user_type":"registered","accept_rate":100,"profile_image":"https://www.gravatar.com/avatar/31893983ac6383a8eafbacd3f2e88f70?s=128&d=identicon&r=PG&f=1","display_name":"Cuurjol","link":"https://ru.stackoverflow.com/users/282842/cuurjol"},"is_answered":true,"view_count":464,"accepted_answer_id":777174,"answer_count":1,"score":2,"last_activity_date":1517226550,"creation_date":1517102131,"last_edit_date":1517226550,"question_id":776652,"link":"https://ru.stackoverflow.com/questions/776652/%d0%9a%d0%b0%d0%ba-%d0%bf%d1%80%d0%b0%d0%b2%d0%b8%d0%bb%d1%8c%d0%bd%d0%be-%d0%b7%d0%b0%d0%b4%d0%b0%d1%82%d1%8c-%d1%81%d1%82%d1%80%d0%be%d0%ba%d1%83-%d0%bf%d0%be%d0%b4%d0%ba%d0%bb%d1%8e%d1%87%d0%b5%d0%bd%d0%b8%d1%8f-%d0%ba-%d0%91%d0%94","title":"Как правильно задать строку подключения к БД","body":"<p>Как правильно задать строку подключения к локальной БД так, чтобы каждый раз вручную не менять путь?</p>\n\n<p>Есть такая строка подключения:</p>\n\n<pre><code>&lt;connectionStrings&gt;\n&lt;add name=\"LibraryModelContainer\" connectionString=\"metadata=res://*/LibraryModel.csdl|res://*/LibraryModel.ssdl|res://*/LibraryModel.msl;provider=System.Data.SqlClient;provider connection string=&amp;quot;data source=(LocalDB)\\MSSQLLocalDB;attachdbfilename=|DataDirectory|\\LibrarySystem.mdf;integrated security=True;connect timeout=30;MultipleActiveResultSets=True;App=EntityFramework&amp;quot;\" providerName=\"System.Data.EntityClient\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>Строка подключения была создана автоматически. Если запускать мой проект с такой вот строкой подключения, то возникает исключение в программе:</p>\n\n<p>Внутреннее исключение 1:\nSqlException: An attempt to attach an auto-named database for file C:\\Users\\Cuurjol\\Desktop\\123\\BACKUP LIBRARY\\Library\\Library\\bin\\Debug\\LibrarySystem.mdf failed. A database with the same name exists, or specified file cannot be opened, or it is located on UNC share.</p>\n\n<p>Я в интернете долго искал решение этой проблемы, нашёл, нужно вместо attachdbfilename=|DataDirectory|\\LibrarySystem.mdf писать целиком весь путь к файлу, ну например так:</p>\n\n<pre><code>attachdbfilename=C:\\Users\\Cuurjol\\Desktop\\123\\BACKUP LIBRARY\\Library\\Library\\LibrarySystem.mdf\n</code></pre>\n\n<p>Но я так не хочу писать путь, поскольку папка с проектом может быть располагаться где угодно, а мне нужно как-то в App.config написать так, чтобы всегда было подключение к БД вне зависимости от расположения самого проекта на жёстком диске.</p>\n\n<p>Как это можно сделать? И почему всё-таки сгенерированная строка подключения к БД не работает при запуске проекта?</p>\n"}