{"tags":["c#","bot"],"owner":{"reputation":1,"user_id":251438,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/3272d67bd0e6e7a99c5c63cef25773cd?s=128&d=identicon&r=PG&f=1","display_name":"Tekerin","link":"https://ru.stackoverflow.com/users/251438/tekerin"},"is_answered":true,"view_count":268,"answer_count":1,"score":0,"last_activity_date":1508072058,"creation_date":1495566480,"last_edit_date":1495872919,"question_id":669902,"link":"https://ru.stackoverflow.com/questions/669902/%d0%a0%d0%b0%d0%b7%d0%bc%d0%b5%d1%89%d0%b5%d0%bd%d0%b8%d0%b5-c-%d0%bd%d0%b0-%d1%81%d0%b5%d1%80%d0%b2%d0%b5%d1%80%d0%b5","title":"Размещение C# на сервере","body":"<p>Создаю бота для вк, который меняет название группы при помощи C# ASP.NET MVC. Но он работает только при обновлении страницы, а мне нужно чтобы он работал без контакта пользователей, и как мне сделать, чтобы название менялось каждый раз по принципу: \"Если название группы не равняется этому, то сменить на это\". Подскажите как реализовать. И да, еще один вопрос, можно ли обойтись без C# ASP.NET MVC?</p>\n\n<p>Код:</p>\n\n<pre><code>protected void Application_Start()\n    {\n        AreaRegistration.RegisterAllAreas();\n        RouteConfig.RegisterRoutes(RouteTable.Routes);\n\n        TimerCallback tm = new TimerCallback(Bot);\n        Timer timer = new Timer(tm, 0, 0, 2000);\n    }\n\n    public static void Bot(object obj)\n    {\n        string url = \"https://api.vk.com/method/messages.getChat?access_token=TOKEN&amp;chat_id=1\";\n\n        WebClient webClient = new WebClient();\n        var response = webClient.DownloadString(url);\n        var json = Encoding.UTF8.GetString(Encoding.GetEncoding(1251).GetBytes(response));\n        JObject j = JObject.Parse(json);\n\n        string title = (string)j[\"response\"][\"title\"];\n        int users = j[\"response\"][\"users\"].Count();\n\n        string name = \"Тест, нас \" + users;\n\n        if (title != name)\n        {\n            url = \"https://api.vk.com/method/messages.editChat?access_token=TOKEN&amp;chat_id=1&amp;title=\" + name;\n            webClient = new WebClient();\n            response = webClient.DownloadString(url);\n        }\n    }\n</code></pre>\n"}