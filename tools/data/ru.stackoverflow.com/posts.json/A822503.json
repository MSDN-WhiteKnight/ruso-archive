{"owner":{"reputation":26379,"user_id":218063,"user_type":"registered","accept_rate":96,"profile_image":"https://i.stack.imgur.com/XUSDd.jpg?s=128&g=1","display_name":"Андрей NOP","link":"https://ru.stackoverflow.com/users/218063/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-nop"},"is_accepted":false,"score":2,"last_activity_date":1525686383,"last_edit_date":1525686383,"creation_date":1525332618,"answer_id":822503,"question_id":821933,"body":"<p>В шаблоне кнопки есть элемент <code>ButtonChrome</code> (называется <code>Chrome</code>), нажатие по кнопке с помощью триггера выставляет свойство <code>RenderPressed</code> этого элемента в значение <code>true</code>. Вы можете добавить кнопке Attached Property и переопределить ее шаблон, в котором добавить еще один триггер на установку этого AP.</p>\n\n<p>Более простой, но менее изящный способ — наследоваться от кнопки и выставить публичный метод для ее нажатия:</p>\n\n<pre><code>class MyButton : Button\n{\n    public async void PressAsync()\n    {\n        var chrome = GetTemplateChild(\"Chrome\") as Decorator;\n        if (chrome == null) return;\n        var chromeType = chrome.GetType();\n        var propertyInfo = chromeType.GetProperty(\"RenderPressed\");\n        propertyInfo.SetValue(chrome, true);\n        await Task.Delay(100);\n        propertyInfo.SetValue(chrome, false);\n    }\n}\n</code></pre>\n\n<p>Я здесь использовал рефлексию, т.к. <code>ButtonChrome</code> может использоваться из разных сборок (зависит от ОС и от ее темы).</p>\n\n<p>Использование:</p>\n\n<pre><code>&lt;StackPanel VerticalAlignment=\"Center\"&gt;\n    &lt;TextBox Margin=\"10,0,10,5\" TextChanged=\"TextBox_TextChanged\"/&gt;\n    &lt;c:MyButton x:Name=\"MB\" Content=\"Click me\" Padding=\"10,2\"\n                HorizontalAlignment=\"Center\"/&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>Кодбихайнд:</p>\n\n<pre><code>private void TextBox_TextChanged(object sender, TextChangedEventArgs e)\n{\n    MB.PressAsync();\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZTtdz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTtdz.gif\" alt=\"введите сюда описание изображения\"></a></p>\n\n<p>Другой, еще более костыльный способ — использовать вместо обычной кнопки переключатель <code>ToggleButton</code>:</p>\n\n<pre><code>class MyButton : ToggleButton\n{\n    protected override async void OnChecked(RoutedEventArgs e)\n    {\n        base.OnChecked(e);\n        await Task.Delay(100);\n        IsChecked = false;\n    }\n}\n</code></pre>\n\n<p>При нажатии кнопки в поле ввода просто установите ему <code>IsChecked = true</code>, через 0,1 с он \"откинется\" автоматически:</p>\n\n<pre><code>private void TextBox_TextChanged(object sender, TextChangedEventArgs e)\n{\n    MB.IsChecked = true;\n}\n</code></pre>\n"}