{"tags":["c#",".net","изображения","graphics","обработка-изображений"],"owner":{"reputation":90762,"user_id":178988,"user_type":"moderator","accept_rate":72,"profile_image":"https://www.gravatar.com/avatar/cbfaff96665b7567defe1b34a883db8b?s=128&d=identicon&r=PG","display_name":"Qwertiy","link":"https://ru.stackoverflow.com/users/178988/qwertiy"},"is_answered":true,"view_count":157,"answer_count":1,"score":2,"last_activity_date":1534911265,"creation_date":1534195771,"last_edit_date":1534228265,"question_id":868305,"link":"https://ru.stackoverflow.com/questions/868305/%d0%92%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d1%8c-3d-%d1%82%d1%80%d0%b0%d0%bd%d1%81%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%86%d0%b8%d1%8e-%d0%ba%d0%b0%d1%80%d1%82%d0%b8%d0%bd%d0%ba%d0%b8","title":"Выполнить 3d-трансформацию картинки","body":"<p>Есть <a href=\"https://i.stack.imgur.com/ThRWY.png\" rel=\"nofollow noreferrer\">картинка с экрана</a> и <a href=\"https://i.stack.imgur.com/Ygb1O.png\" rel=\"nofollow noreferrer\">картинка с камеры</a>. Во второй некая область сделана прозрачной. Под эту прозрачную область требуется поместить картинку с экрана. Сложность в том, что подкладываемую картинку надо предварительно повернуть.</p>\n\n<p>На css соответствующий поворот легко делается <a href=\"//developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d\" rel=\"nofollow noreferrer\">3d-трансформацией</a>:</p>\n\n<pre><code>transform: matrix3d(.615,0,0,.00015,0,.615,0,-.000005,0,0,1,0,-151,-120,0,1);\n</code></pre>\n\n<p>Мне нужно сделать такую же трансформацию, но на VB.NET или C#. Я нашёл, как сделать <a href=\"//msdn.microsoft.com/en-us/library/system.drawing.graphics.transform(v=vs.110).aspx\" rel=\"nofollow noreferrer\">2d-трансформацию</a>, но вот про 3d что-то ничего не нахожу.</p>\n\n<p><strong>Как осуществить такую 3d-трансформацию в .NET?</strong></p>\n\n<p>Ниже помещён сниппет для наглядной (стоит развернуть его на всю страницу) демонстрации желаемого результата. В нём при наведении мышки на проекцию экрана, она перемещается на передний план, а её граница подсвечивается. <a href=\"//ru.stackoverflow.com/a/594479/178988\">Скрипт для масштабирования</a> используется исключительно для наглядности и не влияет на результат.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>~function(){var $window=$(window),$body=$(\"body\");var ie= document.documentMode;function updateSizes(){var width=$window.width(),height=$window.height(),scale=Math.min(width/1920,height/1080,1);var style=$body[0].style;style.msZoom=ie===8||ie===9?scale:1;style.zoom=ie===10||ie===11?1:scale;style.mozTransform=\"scale(\"+scale+\")\";style.oTransform=\"scale(\"+scale+\")\";style.transform=\"scale(\"+scale+\")\";}$window.resize(updateSizes);updateSizes();}();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html{width:100%;overflow:hidden;}body{margin:0;position:relative;transform-origin:top left;}@supports(transform:scale(1)){body{-ms-zoom:1!important;zoom:1!important;}}\r\n.camera{pointer-events:none;}.screen:hover{z-index:2;outline:10px solid rgba(255,0,0,.5);}\r\n\r\nbody {\r\n  width: 1920px;\r\n  height: 1080px;\r\n}\r\n\r\nimg {\r\n  position: absolute;\r\n}\r\n\r\n.camera {\r\n  width: 1920px;\r\n  height: 1080px;\r\n}\r\n\r\n.screen {\r\n  width: 1600px;\r\n  height: 900px;\r\n  transform: matrix3d(.615,0,0,.00015,0,.615,0,-.000005,0,0,1,0,-151,-120,0,1);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;img class=\"screen\" src=\"//i.stack.imgur.com/ThRWY.png\"&gt;\r\n&lt;img class=\"camera\" src=\"//i.stack.imgur.com/Ygb1O.png\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}