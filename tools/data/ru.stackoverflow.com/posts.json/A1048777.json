{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":2,"last_activity_date":1574323361,"last_edit_date":1574323361,"creation_date":1574317978,"answer_id":1048777,"question_id":1048731,"body":"<p>Приложение UWP можно запустить, используя его зарегистрированный протокол:</p>\n\n<pre><code>system(\"explorer protocol://\");\n</code></pre>\n\n<p>где <em>protocol</em> - имя одного из ключей реестра в разделе </p>\n\n<p><code>HKEY_CLASSES_ROOT\\Local Settings\\Software\\Microsoft\\Windows\\CurrentVersion\\AppModel\\PackageRepository\\Packages\\(PackageID)\\(AppUserModelID)\\windows.protocol</code></p>\n\n<p>Например: </p>\n\n<p><strong>calculator</strong> для стандартного калькулятора Windows</p>\n\n<p><strong>microsoft-edge</strong> для Microsoft Edge</p>\n\n<p>Приложение Win32, запакованное для Windows Store, можно запустить обычным запуском его exe-файла.</p>\n\n<p>Если приложение UWP не регистрирует ни одного протокола, его можно запустить через его зарегистрированные псевдонимы командной строки: <a href=\"https://blogs.windows.com/windowsdeveloper/2017/07/05/command-line-activation-universal-windows-apps/#UaF9ZyFfdF9kYhdY.97\" rel=\"nofollow noreferrer\">Command-Line Activation of Universal Windows Apps</a>. </p>\n\n<p>Произвольное приложение можно запустить, используя <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/shobjidl_core/nf-shobjidl_core-iapplicationactivationmanager-activateapplication\" rel=\"nofollow noreferrer\">IApplicationActivationManager::ActivateApplication</a>. Пример кода для Visual C++ (требует Windows 8-10 SDK):</p>\n\n<pre><code>#include &lt;stdlib.h&gt; \n#include &lt;stdio.h&gt;\n#include &lt;shlobj.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;shobjidl.h&gt;\n#include &lt;objbase.h&gt;\n#include &lt;atlbase.h&gt;\n#include &lt;string&gt;\n\nHRESULT LaunchApp(const std::wstring&amp; strAppUserModelId, PDWORD pdwProcessId)\n{\n    CComPtr&lt;IApplicationActivationManager&gt; spAppActivationManager;\n    HRESULT hrResult = E_INVALIDARG;\n    if (!strAppUserModelId.empty())\n    {\n        // Instantiate IApplicationActivationManager\n        hrResult = CoCreateInstance(CLSID_ApplicationActivationManager,\n            NULL,\n            CLSCTX_LOCAL_SERVER,\n            IID_IApplicationActivationManager,\n            (LPVOID*)&amp;spAppActivationManager);\n\n        if (SUCCEEDED(hrResult))\n        {\n            // This call ensures that the app is launched as the foreground window\n            hrResult = CoAllowSetForegroundWindow(spAppActivationManager, NULL);\n\n            // Launch the app\n            if (SUCCEEDED(hrResult))\n            {\n                hrResult = spAppActivationManager-&gt;ActivateApplication(strAppUserModelId.c_str(),\n                    NULL,\n                    AO_NONE,\n                    pdwProcessId);\n            }\n        }\n    }\n\n    return hrResult;\n}\n\n\nint main(void)\n{       \n    HRESULT hrResult = S_OK;\n    if (SUCCEEDED(CoInitializeEx(NULL, COINIT_APARTMENTTHREADED)))\n    {\n        DWORD dwProcessId;\n\n        hrResult = LaunchApp(std::wstring(L\"Microsoft.WindowsCalculator_8wekyb3d8bbwe!App\"), &amp;dwProcessId); //AppUserModelID для стандартного калькулятора\n\n        if (FAILED(hrResult)) {\n            wprintf(L\"Failed with HRESULT 0x%x\", (UINT)hrResult);\n        }\n\n        CoUninitialize();\n    }\n\n    getchar();\n\n    return 0;\n}\n</code></pre>\n\n<p>Источник: <a href=\"https://social.msdn.microsoft.com/Forums/windowsdesktop/en-US/7cf9693f-0b87-423f-8557-23b61a8c10cc/how-do-i-programmatically-launch-a-windows-store-app-from-my-desktop-app?forum=windowsgeneraldevelopmentissues\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/windowsdesktop/en-US/7cf9693f-0b87-423f-8557-23b61a8c10cc/how-do-i-programmatically-launch-a-windows-store-app-from-my-desktop-app?forum=windowsgeneraldevelopmentissues</a></p>\n\n<p>Для запуска необходим AppUserModelID, который можно найти поиском в реестре по упомянутому выше разделу PackageRepository (имя вложенного ключа) или разделам <code>HKEY_CLASSES_ROOT\\AppX(...)\\Application</code> (значение свойства AppUserModelID).</p>\n"}