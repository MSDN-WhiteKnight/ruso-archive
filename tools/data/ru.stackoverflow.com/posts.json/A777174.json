{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":4,"last_activity_date":1517226444,"creation_date":1517226444,"answer_id":777174,"question_id":776652,"body":"<p>Задать относительный путь к БД с помощью подстановочной переменной |DataDirectory|, конечно, можно. Ее значение зависит от типа проекта:</p>\n\n<ul>\n<li>Для обычного настольного приложения - путь к папке с EXE-файлом</li>\n<li>Для приложения ClickOnce - путь к специальной папке данных</li>\n<li>Для ASP.NET приложений - путь к папке App_Data</li>\n</ul>\n\n<p>Можно переопределить значение в коде:</p>\n\n<pre><code>AppDomain.CurrentDomain.SetData(\"DataDirectory\", newpath)\n</code></pre>\n\n<p>См. <a href=\"https://blogs.msdn.microsoft.com/smartclientdata/2005/08/26/working-with-local-databases/\" rel=\"nofollow noreferrer\">данную статью</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/connection-strings\" rel=\"nofollow noreferrer\">документацию</a>.</p>\n\n<p>Что касается ошибки <em>An attempt to attach an auto-named database for file ... failed.</em>, у нее может быть много причин. Файл не существует, у учетной записи службы SQL не хватает прав, чтобы его открыть, БД с таким именем уже существует и т.п. Обычно использовать свойство <code>AttachDbFileName</code>, тем более с автогенерированным именем БД - не лучшая практика. Лучше создать программу или скрипт развертывания, который будет однократно присоединять БД с явно заданным именем, а в программе задать свойство <code>Initial Catalog</code>. Так будет куда проще обслуживать программу.</p>\n"}