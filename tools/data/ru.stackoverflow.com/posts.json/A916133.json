{"owner":{"reputation":16137,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":1,"last_activity_date":1544068858,"creation_date":1544068858,"answer_id":916133,"question_id":916075,"body":"<p>Размер указателей в x64 не совпадает с размером типа int. Если вы используете для представления указателей тип int, он будет работать только в x86. Правильное объявление  Low-Level Keyboard Hook callback должно выглядеть так: </p>\n\n<pre><code>IntPtr KeyboardHookCallback(int nCode, IntPtr wParam, IntPtr lParam)\n</code></pre>\n\n<p>Тип IntPtr соответствует размерности указателя текущей платформы. Вообще, полный рабочий пример кода с Low-Level Keyboard Hook приведен здесь: <a href=\"https://ru.stackoverflow.com/questions/879772/%D0%9A%D0%B0%D0%BA-%D0%BE%D1%82%D0%BB%D0%BE%D0%B2%D0%B8%D1%82%D1%8C-%D0%B2%D1%81%D0%B5-%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D0%BD%D0%B8%D0%B7%D0%BA%D0%BE%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D0%B5%D0%B2%D1%8B%D0%B9-%D1%85%D1%83%D0%BA\">Как отловить все клавиши через низкоуровневый хук?</a></p>\n"}