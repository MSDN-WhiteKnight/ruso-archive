{"owner":{"reputation":2227,"user_id":298154,"user_type":"registered","profile_image":"https://i.stack.imgur.com/0YvNK.jpg?s=128&g=1","display_name":"NewView","link":"https://ru.stackoverflow.com/users/298154/newview"},"is_accepted":false,"score":0,"last_activity_date":1540175394,"last_edit_date":1540175394,"creation_date":1540056855,"answer_id":895693,"question_id":895676,"body":"<p>Вот так?</p>\n\n<pre><code>[UnmanagedFunctionPointer(CallingConvention.Cdecl)]\npublic delegate void MyFunctionDelegate(IntPtr frame);\n\n[DllImport(\"my.dll\")]\npublic extern static int MySetDataHandlerFunc(\n[MarshalAs(UnmanagedType.FunctionPtr)]MyFunctionDelegate functionCallback);\n</code></pre>\n\n<ol>\n<li><p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getdelegateforfunctionpointer?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getdelegateforfunctionpointer?view=netframework-4.7.2</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/1969049/c-sharp-p-invoke-marshalling-structures-containing-function-pointers\">https://stackoverflow.com/questions/1969049/c-sharp-p-invoke-marshalling-structures-containing-function-pointers</a></p></li>\n<li><p><a href=\"http://www.xinterop.com/index.php/2013/04/13/introduction-to-c-pinvoke-interop-sdk/\" rel=\"nofollow noreferrer\">http://www.xinterop.com/index.php/2013/04/13/introduction-to-c-pinvoke-interop-sdk/</a></p></li>\n</ol>\n"}