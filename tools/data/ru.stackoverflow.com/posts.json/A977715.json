{"owner":{"reputation":1516,"user_id":261244,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ack2K.jpg?s=128&g=1","display_name":"Yaroslav","link":"https://ru.stackoverflow.com/users/261244/yaroslav"},"is_accepted":false,"score":1,"last_activity_date":1556915231,"last_edit_date":1556915231,"creation_date":1556914805,"answer_id":977715,"question_id":977595,"body":"<p>В дополнение к первому ответу @Zergatul</p>\n\n<p>Код на С#</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        Double x = 10;\n        Double y = 0;\n        y = GetFrexp(x, out Int32 n);\n\n        Console.WriteLine($\"{y.ToString(\"R\")} = frexp({x}, 2^{n})\");\n        Console.ReadKey();\n    }\n\n    public static Double GetFrexp(Double value, out Int32 exponent)\n    {\n        return Frexp(value, out exponent);\n    }\n\n    [DllImport(\"Math.dll\", SetLastError = true, CallingConvention = CallingConvention.Cdecl)]\n    private extern static Double Frexp([MarshalAs(UnmanagedType.R8)] Double value, \n                                       [MarshalAs(UnmanagedType.I4)] out Int32 exponent);\n}\n</code></pre>\n\n<p>Код на C++</p>\n\n<p>MathLibrary.h</p>\n\n<pre><code>#ifdef MATHLIBRARY_EXPORTS\n#define MATHLIBRARY_API __declspec(dllexport)\n#else\n#define MATHLIBRARY_API __declspec(dllimport)\n#endif\n\n#include &lt;string&gt;\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n\nnamespace MathFunc\n{\n    extern \"C\" MATHLIBRARY_API double Frexp(double x, int* expptr);\n}\n</code></pre>\n\n<p>MathLibrary.cpp</p>\n\n<pre><code>#include \"pch.h\"\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n#include \"MathLibrary.h\"\n#include &lt;stdexcept&gt;\n\nusing namespace std;\n\nnamespace MathFunc\n{\n    double Frexp(double x, int* expptr)\n    {\n         return frexp(x, expptr);\n    }\n}\n</code></pre>\n\n<p>Инструкция по созданию dll: <a href=\"https://docs.microsoft.com/en-us/cpp/build/walkthrough-creating-and-using-a-dynamic-link-library-cpp?view=vs-2019\" rel=\"nofollow noreferrer\">Пошаговое руководство. Создание и использование собственной библиотеки динамических ссылок (C++)</a></p>\n"}