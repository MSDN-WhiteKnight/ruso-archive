{"tags":["visual-c++","c++-cli","компоновщик"],"owner":{"reputation":1976,"user_id":18326,"user_type":"registered","accept_rate":27,"profile_image":"https://www.gravatar.com/avatar/44e9e9ceca0793833be868466b3a52a2?s=128&d=identicon&r=PG","display_name":"sitev_ru","link":"https://ru.stackoverflow.com/users/18326/sitev-ru"},"is_answered":false,"view_count":64,"answer_count":1,"score":1,"last_activity_date":1549393783,"creation_date":1549354245,"last_edit_date":1549367816,"question_id":940922,"link":"https://ru.stackoverflow.com/questions/940922/%d0%9c%d0%be%d0%b6%d0%bd%d0%be-%d0%bb%d0%b8-%d0%b8%d0%b7-c-clr-%d0%bf%d0%be%d0%b4%d0%ba%d0%bb%d1%8e%d1%87%d0%b8%d1%82%d1%8c-%d0%bb%d0%b8%d0%b1%d1%83-%d0%bd%d0%b0-%d0%a1%d0%b8","title":"Можно ли из C++/CLR подключить либу на Си?","body":"<p>Пишу приложение на C++/CLR. Пытаюсь подключить Си-библиотеку - начинаются проблемы с компиляцией. Как я понимаю, C++/CLR и Си не дружат, что очень странно. Можно ли как-то решить эту проблему?</p>\n\n<p>Код ошибки:</p>\n\n<blockquote>\n  <p>Error LNK2028 unresolved token (0A000874) \"extern \"C\" int __cdecl\n  MQTTClient_create(void * *,char const *,char const *,int,void *)\"\n  (?MQTTClient_create@@$$J0YAHPAPAXPBD1HPAX@Z) referenced in function\n  \"void __cdecl myfunc(void)\" (?myfunc@@$$FYAXXZ)   opc_mqtt</p>\n</blockquote>\n\n<p>В линкере:</p>\n\n<blockquote>\n  <p>/OUT:\"C:\\projects\\vcpp\\opc_mqtt\\Debug\\test_c_lib_clr.exe\" /MANIFEST\n  /NXCOMPAT /PDB:\"C:\\projects\\vcpp\\opc_mqtt\\Debug\\test_c_lib_clr.pdb\"\n  /DYNAMICBASE \"paho-mqtt3a.lib\" \"kernel32.lib\" \"user32.lib\" \"gdi32.lib\"\n  \"winspool.lib\" \"comdlg32.lib\" \"advapi32.lib\" \"shell32.lib\" \"ole32.lib\"\n  \"oleaut32.lib\" \"uuid.lib\" \"odbc32.lib\" \"odbccp32.lib\" /DEBUG\n  /MACHINE:X86 /INCREMENTAL\n  /PGD:\"C:\\projects\\vcpp\\opc_mqtt\\Debug\\test_c_lib_clr.pgd\"\n  /SUBSYSTEM:CONSOLE /MANIFESTUAC:\"level='asInvoker' uiAccess='false'\"\n  /ManifestFile:\"Debug\\test_c_lib_clr.exe.intermediate.manifest\"\n  /ERRORREPORT:PROMPT /NOLOGO /LIBPATH:\"C:\\mqtt\\paho-c\\lib\" /TLBID:1</p>\n</blockquote>\n"}