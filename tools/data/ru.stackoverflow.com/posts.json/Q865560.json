{"tags":["c++","winapi","mql"],"owner":{"reputation":455,"user_id":16686,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/727726b33379ef13ca2e9771d061f4b3?s=128&d=identicon&r=PG","display_name":"JamesBondCaesar","link":"https://ru.stackoverflow.com/users/16686/jamesbondcaesar"},"is_answered":true,"view_count":187,"answer_count":2,"score":1,"last_activity_date":1578765680,"creation_date":1533649601,"last_edit_date":1533659469,"question_id":865560,"link":"https://ru.stackoverflow.com/questions/865560/%d0%9a%d0%b0%d0%ba-%d0%be%d0%bf%d0%b8%d1%81%d0%b0%d1%82%d1%8c-lpsecurity-attributes-%d0%b4%d0%bb%d1%8f-createmutexw","title":"Как описать LPSECURITY_ATTRIBUTES для CreateMutexW","body":"<p>Проблема возникла при описании структуры являющейся одним из параметров функции CreateMutexW - LPSECURITY_ATTRIBUTES. (<a href=\"https://msdn.microsoft.com/ru-ru/56b5b350-f4b7-47af-b5f8-6a35f32c1009\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/ru-ru/56b5b350-f4b7-47af-b5f8-6a35f32c1009</a>) Как ее можно описать на С++, используя стандартные типы, не принадлежащие к WinApi ?</p>\n\n<p><strong>Если кратко выразить мысль, то как правильно описать струтуру <em>LPSECURITY_ATTRIBUTES</em> на языке С++ не прибегая к типам WinApi</strong></p>\n\n<p>Я не разу не пользовался WinApi, но сейчас потребовалось воспользоваться его функционалом. Ситуация следующая, мне нужно импортировать в язык mql5 ряд функций WinApi для созданию мьютекса (<a href=\"https://www.mql5.com/ru/docs/basis/preprosessor/import\" rel=\"nofollow noreferrer\">https://www.mql5.com/ru/docs/basis/preprosessor/import</a>) Тут во время импорта функций из WinApi подобные структуры описывают сперва. У меня не получается это сделать, поправьте меня если есть ошибка и посоветуйте как сделать правильнее?</p>\n\n<p>Я описываю так:</p>\n\n<pre><code>struct LPSECURITY_ATTRIBUTES {\n  unsigned long  nLength;\n  void* lpSecurityDescriptor;\n  bool   bInheritHandle;\n};\n\n#import \"kernel32.dll\"\n  long CreateMutexW(LPSECURITY_ATTRIBUTES &amp;lpMutexAttributes, bool bInitialOwner, string lpName);\n#import \n</code></pre>\n\n<p>В итоге во время импорта программка жалуется именно на эту структуру. Как бы Вы описали ее на C++ ? Mql5 делался приближенно к плюсам, соответственно те кто на плюсах программируют думаю смогут мне помочь...</p>\n"}