{"tags":["c#","html","http"],"owner":{"reputation":589,"user_id":206350,"user_type":"registered","accept_rate":30,"profile_image":"https://www.gravatar.com/avatar/d127f9b2f76bd2d6f8fbbce09ce9d776?s=128&d=identicon&r=PG&f=1","display_name":"FaNaT_96","link":"https://ru.stackoverflow.com/users/206350/fanat-96"},"is_answered":true,"view_count":76,"accepted_answer_id":950538,"answer_count":3,"score":2,"last_activity_date":1551355515,"creation_date":1551350786,"last_edit_date":1551353903,"question_id":950524,"link":"https://ru.stackoverflow.com/questions/950524/%d0%9a%d0%bb%d0%b0%d1%81%d1%81-%d0%b8%d0%bb%d0%b8-%d0%bc%d0%b5%d1%82%d0%be%d0%b4-%d0%b4%d0%bb%d1%8f-%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d1%8f-html-c","title":"Класс или метод для получения html C#","body":"<p>Давно интересует: а есть ли где-нибудь универсальный способ получения html-кода всей страницы? Ведь на некоторых сайта нужны куки, где-то еще и авторизация. \nВ данный момент использую такой простенький вариант:</p>\n\n<pre><code>static string getResponse(string uri)\n{\n    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(uri);\n    request.UserAgent = \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586\";\n    using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n    using (StreamReader reader = new StreamReader(response.GetResponseStream(), Encoding.Default, true, 8192))\n    {\n        return reader.ReadToEnd();\n    }\n}\n</code></pre>\n\n<p>В большинстве случаев его хватает, но иногда приходится дополнять. Поэтому было бы неплохо заранее иметь готовый вариант, где все учтено</p>\n"}