{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":false,"score":3,"last_activity_date":1515947112,"creation_date":1515947112,"answer_id":770680,"question_id":770669,"body":"<p>Функция <code>SetWindowLong</code> возвращает предыдущее значение параметра. Для <code>GWL_USERDATA</code> начальное значение равно нулю, поэтому это вполне нормально. Если вы подозреваете ошибку, нужно перед запуском сбросить код ошибки через <code>SetLastError</code> и после запуска взять его через <code>GetLastError</code>. </p>\n\n<p>К слову, функция <code>SetWindowLong</code> не имеет смысла в 64-битных приложениях (поэтому лучше использовать <code>SetWindowLongPtr</code>).</p>\n"}