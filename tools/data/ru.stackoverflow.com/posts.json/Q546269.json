{"tags":["wpf","шрифты"],"owner":{"reputation":425,"user_id":214629,"user_type":"registered","accept_rate":50,"profile_image":"https://www.gravatar.com/avatar/c98a39b5020e38df17bfd798a627d5b4?s=128&d=identicon&r=PG&f=1","display_name":"Vitaliy","link":"https://ru.stackoverflow.com/users/214629/vitaliy"},"is_answered":true,"view_count":804,"accepted_answer_id":702282,"answer_count":1,"score":24,"last_activity_date":1501950457,"creation_date":1468931733,"question_id":546269,"link":"https://ru.stackoverflow.com/questions/546269/%d0%9c%d0%b0%d0%b3%d0%b8%d1%8f-%d1%88%d1%80%d0%b8%d1%84%d1%82%d0%be%d0%b2-%d0%bf%d0%be-%d1%83%d0%bc%d0%be%d0%bb%d1%87%d0%b0%d0%bd%d0%b8%d1%8e-%d0%b2-wpf","title":"Магия шрифтов по умолчанию в WPF","body":"<p>Я заметил, что если при создании шрифта указать пустую строку, то используется шрифт <code>Arial</code>, но он почему-то отрисовывается на несколько пикселей выше, чем <code>Arial</code>, хотя <code>Baseline</code> у них одинаковый и равен 0,921630859375. (VS2015, Windows 10)\nС чем это может быть связано и как исправить такое поведение?</p>\n\n<pre><code>textBlock1.FontFamily = new FontFamily(\"Arial\"); // Red,   Baseline = 0,921630859375\ntextBlock2.FontFamily = new FontFamily(\"\");      // Green, Baseline = 0,921630859375\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6Aikn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Aikn.png\" alt=\"Шрифт &quot;Arial&quot; и &quot;&quot;\"></a></p>\n\n<p>Также заметил, что если при создании шрифта указать несуществующий шрифт, то используется уже шрифт <code>Segoe UI</code> и отрисовывается уже прилично выше, чем <code>Segoe UI</code>. Причиной тому скорей всего отличия в <code>Baseline</code>.\nПочему <code>Baseline</code> отличаются? Как его можно задать вручную?</p>\n\n<pre><code>textBlock1.FontFamily = new FontFamily(\"Segoe UI\");     // Red,   Baseline = 1,0791015625\ntextBlock2.FontFamily = new FontFamily(\"non-existent\"); // Green, Baseline = 0,921630859375\n</code></pre>\n\n<p>или то же самое в XAML</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;TextBlock Text=\"Hello World\"\n               FontSize=\"160\"\n               FontFamily=\"Segoe UI\"\n               Foreground=\"Red\" /&gt;\n    &lt;TextBlock Text=\"Hello World\"\n               FontSize=\"160\"\n               FontFamily=\"non-existent\"\n               Foreground=\"Green\" /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TDajp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TDajp.png\" alt=\"Шрифт &quot;Segoe UI&quot; и &quot;non-existent&quot;\"></a></p>\n"}