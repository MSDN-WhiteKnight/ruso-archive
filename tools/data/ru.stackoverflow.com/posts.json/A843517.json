{"owner":{"reputation":16068,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":false,"score":1,"last_activity_date":1529551840,"last_edit_date":1529551840,"creation_date":1529322733,"answer_id":843517,"question_id":842745,"body":"<p>В Windows деление на ноль генерирует исключение SEH с кодом <em>STATUS_INTEGER_DIVIDE_BY_ZERO</em> (0xC0000094). Чтобы обрабатывать его в стиле исключений С++, можно установить в Visual C++ параметр компилятора <a href=\"https://docs.microsoft.com/en-us/cpp/build/reference/eh-exception-handling-model\" rel=\"nofollow noreferrer\">/EHa</a>, или установить фильтр необработанных исключений:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;tchar.h&gt;\n#include &lt;exception&gt;\n#include &lt;windows.h&gt;\n\nLONG WINAPI UnhandledExceptionFilter( struct _EXCEPTION_POINTERS *ExceptionInfo){\n\n    if(ExceptionInfo-&gt;ExceptionRecord-&gt;ExceptionCode == STATUS_INTEGER_DIVIDE_BY_ZERO)\n        throw std::exception(\"STATUS_INTEGER_DIVIDE_BY_ZERO\");  \n\n    return EXCEPTION_CONTINUE_SEARCH;\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{   \n    SetUnhandledExceptionFilter(&amp;UnhandledExceptionFilter); \n\n    int b=0;\n    try\n    {\n        int a = 1/b;        \n    }\n    catch(std::exception ex)\n    {       \n        printf(\"Exception: %s\\n\",ex.what());\n    }   \n\n    return 0;\n}\n</code></pre>\n\n<p>(Второй способ работает только при запуске без отладки, так как отладчик студии принудительно прерывает программу на SEH-исключениях.)</p>\n"}