---
title: "Answer 1046572"
se.owner.user_id: 240512
se.owner.display_name: "MSDN.WhiteKnight"
se.owner.link: "https://ru.stackoverflow.com/users/240512/msdn-whiteknight"
se.answer_id: 1046572
se.question_id: 1046558
se.post_type: answer
se.score: 1
se.is_accepted: True
---
<p>Я предполагаю, что вы хотели поместить начало блока try до if (в текущем виде код не имеет смысла).</p>

<p>Большинство методов работы с файлами в .NET автоматически бросают исключение, если файла не существует, так что вам может и не нужна такая проверка в явном виде. У OpenFileDialog по умолчанию есть предупреждение при выборе несуществующего файла. Но так или иначе, нет смысла бросать исключение только из-за того, что пользователь ввел несуществующий файл. Проброс исключений - довольно тяжелая операция, которая предназначена для действительно исключительных ситуаций. Вы могли бы сделать так:</p>

<pre><code>if (!System.IO.File.Exists(openFileDialog1.FileName))
{
    MessageBox.Show("Некорректный путь к файлу " + openFileDialog1.FileName);
    return;
}
</code></pre>

<p>Если вы все же бросаете исключения, нет смысла ловить их тут же только для того, чтобы вывести сообщение. Польза исключений отчасти в том, чтобы захватить стек вызовов для облегчения отладки сложного кода. При таком коде эти данные теряются.</p>

<p>Обычная практика относительно исключений это одно из двух:</p>

<ul>
<li><p>Просто позволить программе упасть. В этом случае выведется сообщение и диагностическая информация попадет в системный журнал</p></li>
<li><p>Перехватить исключение и вывести сообщение, но при этом логировать с помощью собственного механизма его полные данные (<code>ex.ToString()</code>)</p></li>
</ul>
