---
title: "Не могу программно убить ранее запущенный процесс"
se.owner.user_id: 203789
se.owner.display_name: "Leonid Malyshev"
se.owner.link: "https://ru.stackoverflow.com/users/203789/leonid-malyshev"
se.link: "https://ru.stackoverflow.com/questions/696333/%d0%9d%d0%b5-%d0%bc%d0%be%d0%b3%d1%83-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc%d0%bd%d0%be-%d1%83%d0%b1%d0%b8%d1%82%d1%8c-%d1%80%d0%b0%d0%bd%d0%b5%d0%b5-%d0%b7%d0%b0%d0%bf%d1%83%d1%89%d0%b5%d0%bd%d0%bd%d1%8b%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81"
se.question_id: 696333
se.post_type: question
se.score: 7
---
<p>В программе я открываю новый системный процесс, который проигрывает видео в дефолтном плеере. Стартует и играет без проблем. Потом я пытаюсь закрыть (убить) процесс и получаю ошибку: <code>System.InvalidOperationException: No process is associated with this object</code>. 
Кусок кода:</p>

<pre><code>    string filename = "747225775.mp4";
    var myProc = new Process()
    {
        StartInfo = new ProcessStartInfo(filename)
    };
    myProc.Start();
    Thread.Sleep(5000);
    try
    {
       myProc.Kill(); //Error is here
    }
    catch (Exception ex)
    {
        Debug.WriteLine(ex);
        Debugger.Break();
    }
</code></pre>

<p>Вопрос как закрыть процесс.
PS. Задаю имя файла, а не программы, чтобы использовать программу по умолчанию.</p>
