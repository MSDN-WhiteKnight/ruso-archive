---
title: "Запись данных в файл конфигураций (App.config)"
se.owner.user_id: 269643
se.owner.display_name: "Evgen"
se.owner.link: "https://ru.stackoverflow.com/users/269643/evgen"
se.link: "https://ru.stackoverflow.com/questions/862230/%d0%97%d0%b0%d0%bf%d0%b8%d1%81%d1%8c-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85-%d0%b2-%d1%84%d0%b0%d0%b9%d0%bb-%d0%ba%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d0%b9-app-config"
se.question_id: 862230
se.post_type: question
se.score: 2
---
<p>Пытаюсь записать данные в конфигурационное свойство из приложения(простое консольное приложение) во время выполнения, но получаю исключение <a href="https://i.stack.imgur.com/wv5N8.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/wv5N8.png" alt="введите сюда описание изображения"></a></p>

<p>Класс секции</p>

<pre><code>public class CustomConfigurationSection: ConfigurationSection
{
    [ConfigurationProperty("culture")]
    public CultureElement Culture
    {
        get { return (CultureElement)this["culture"]; }
        set { this["culture"] = value; }
    }

}
</code></pre>

<p>Класс элемента секции </p>

<pre><code> public class CultureElement: ConfigurationElement
{
    [ConfigurationProperty("cultureProp")]   
    public string Culture
    {
        get { return (string)this["cultureProp"]; }
        set { this["cultureProp"] = value; }
    }

}
</code></pre>

<p>Конфигурационный файл выглядит так:</p>

<p><a href="https://i.stack.imgur.com/uMjQD.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/uMjQD.png" alt="введите сюда описание изображения"></a></p>

<p>Код записи свойства</p>

<pre><code>  var d = (CustomConfigurationSection)ConfigurationManager.GetSection("customSection");
        d.Culture.Culture = "ru-Ru";
</code></pre>

<p>Где я допустил ошибку, и как правильно записать данные в данное свойство?</p>
