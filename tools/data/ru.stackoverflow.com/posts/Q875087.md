---
title: "C++ #define UNICODE"
se.owner.user_id: 276534
se.owner.display_name: "Mike Waters"
se.owner.link: "https://ru.stackoverflow.com/users/276534/mike-waters"
se.link: "https://ru.stackoverflow.com/questions/875087/c-define-unicode"
se.question_id: 875087
se.post_type: question
se.score: 2
---
<p>Код:</p>

<pre><code>#ifndef UNICODE
#define UNICODE
#endif 

#include &lt;windows.h&gt;

LRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam) {
 switch(uMsg) {
  case WM_DESTROY:
   PostQuitMessage(0);
   return 0;
  case WM_PAINT: {
   PAINTSTRUCT ps;
   HDC hdc = BeginPaint(hwnd, &amp;ps);
   FillRect(hdc, &amp;ps.rcPaint, (HBRUSH)(COLOR_WINDOW + 1));
   EndPaint(hwnd, &amp;ps);
   return 0;
  }
 }
 return DefWindowProc(hwnd, uMsg, wParam, lParam);
}

int WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE, PWSTR pCmdLine, int nCmdShow) {
 // Register the window class.
 const wchar_t CLASS_NAME[] = L"Sample Window Class";
 WNDCLASS wc = {};
 wc.lpfnWndProc = WindowProc;
 wc.hInstance = hInstance;
 wc.lpszClassName = CLASS_NAME;
 RegisterClass(&amp;wc);
 // Create the window.
 HWND hwnd = CreateWindowEx(
  0,                              // Optional window styles.
  CLASS_NAME,                     // Window class
  L"Learn to Program Windows",    // Window text
  WS_OVERLAPPEDWINDOW,            // Window style
                                // Size and position
  CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
  NULL,       // Parent window    
  NULL,       // Menu
  hInstance,  // Instance handle
  NULL        // Additional application data
 );

 if(hwnd == NULL) {
  return 0;
 }

 ShowWindow(hwnd, nCmdShow);

 // Run the message loop.

 MSG msg = {};
 while (GetMessage(&amp;msg, NULL, 0, 0)) {
  TranslateMessage(&amp;msg);
  DispatchMessage(&amp;msg);
 }

 return 0;
}
</code></pre>

<p>Вопросы:</p>

<ol>
<li>Что делают препроцессорные директивы?</li>
<li>Что делает L перед string? (L"Sample Window Class";)</li>
<li>Можно ли без препроцессорных директив?</li>
</ol>
