{"tags":["c#","сериализация"],"owner":{"reputation":78,"user_id":322215,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/8271ae36340331405b5aa38bf718bc64?s=128&d=identicon&r=PG&f=1","display_name":"damn","link":"https://ru.stackoverflow.com/users/322215/damn"},"is_answered":true,"view_count":124,"accepted_answer_id":971129,"answer_count":2,"score":1,"last_activity_date":1555934914,"creation_date":1555327996,"last_edit_date":1555581832,"question_id":969870,"link":"https://ru.stackoverflow.com/questions/969870/%d0%9e%d0%bf%d1%80%d0%b5%d0%b4%d0%b5%d0%bb%d0%b8%d1%82%d1%8c-%d1%80%d0%b0%d0%b7%d0%bc%d0%b5%d1%80-%d1%84%d0%b0%d0%b9%d0%bb%d0%b0-%d1%82%d1%80%d0%b5%d0%b1%d1%83%d0%b5%d0%bc%d1%8b%d0%b9-%d0%b4%d0%bb%d1%8f-%d1%81%d0%be%d1%85%d1%80%d0%b0%d0%bd%d0%b5%d0%bd%d0%b8%d1%8f-%d1%81%d0%bf%d0%b8%d1%81%d0%ba%d0%b0-%d0%be%d0%b1%d1%8a%d0%b5%d0%ba%d1%82%d0%be%d0%b2","title":"Определить размер файла, требуемый для сохранения списка объектов","body":"<p>Есть список объектов, который нужно сохранить в файл. Могу сохранять в файлы трех типов: текстовые, бинарные и xml. Нужен метод, который будет определять размер файлов, содержащих мой список объектов. Т.е. у меня есть список объектов, который я хочу сохранить в файл, я вызываю этот метод, а он мне сообщает: сколько памяти потребуется для текстового файла, сколько для бинарного и сколько для xml-файла. Поля моего класса:</p>\n\n<pre><code>[Serializable]\npublic class Equipment\n{\n    public string Department { get; set; }\n    public string Name { get; set; }\n    int amount;\n    double unitCost;\n    double totalCost;\n}\n</code></pre>\n\n<p>Методы для записи файлов:</p>\n\n<pre><code>    public static void WriteTxtFile(List&lt;Equipment&gt; equipments, string path)\n    {\n        using (StreamWriter writer = new StreamWriter(path, false))\n        {\n            equipments.ForEach(equipment =&gt; writer.WriteLine($\"{equipment.Department};{equipment.Name};{equipment.Amount};{equipment.UnitCost};{equipment.TotalCost}\"));\n        }\n    }\n\n    public static void WriteBinaryFile(List&lt;Equipment&gt; equipments, string path)\n    {\n        using (BinaryWriter writer = new BinaryWriter(File.Open(path, FileMode.OpenOrCreate)))\n        {\n            foreach(Equipment equipment in equipments)\n            {\n                writer.Write(equipment.Department);\n                writer.Write(equipment.Name);\n                writer.Write(equipment.Amount);\n                writer.Write(equipment.UnitCost);\n                writer.Write(equipment.TotalCost);\n            }\n        }\n    }\n\n    public static void WriteXmlFile(List&lt;Equipment&gt; equipments, string path)\n    {\n        XmlSerializer formatter = new XmlSerializer(typeof(List&lt;Equipment&gt;));\n        using (FileStream fs = new FileStream(path, FileMode.OpenOrCreate))\n        {\n            formatter.Serialize(fs, equipments);\n        }\n    }\n</code></pre>\n"}