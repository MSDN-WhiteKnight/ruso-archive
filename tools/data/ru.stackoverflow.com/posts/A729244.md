---
title: "Answer 729244"
se.owner.user_id: 225899
se.owner.display_name: "bigov"
se.owner.link: "https://ru.stackoverflow.com/users/225899/bigov"
se.answer_id: 729244
se.question_id: 691071
se.post_type: answer
se.score: 3
se.is_accepted: False
---
<p>Если Вы хотите получить качественную копию файлов в другой папке, то вам надо изменить алгоритм. Вы можете потерять данные в процессе копирования, вы можете запросить состояние файла (теоретически) одновременно с процессом который этот файл начнет открывать и если тот процесс локальный, то он заблокирует файл, который вы считаете свободным.</p>

<p>Правильный подход в этой задаче - просто попытаться сразу скопировать все, а после завершения копирования проверить результат. Например по длине файлов или по времени их модификации до копирования и после. Файлы, которые не прошли проверку скопировать повторно. Ну и далее - проанализировать и обработать возникшие ошибки.</p>
