---
title: "Answer 895693"
se.owner.user_id: 298154
se.owner.display_name: "NewView"
se.owner.link: "https://ru.stackoverflow.com/users/298154/newview"
se.answer_id: 895693
se.question_id: 895676
se.post_type: answer
se.score: 0
se.is_accepted: False
---
<p>Вот так?</p>

<pre><code>[UnmanagedFunctionPointer(CallingConvention.Cdecl)]
public delegate void MyFunctionDelegate(IntPtr frame);

[DllImport("my.dll")]
public extern static int MySetDataHandlerFunc(
[MarshalAs(UnmanagedType.FunctionPtr)]MyFunctionDelegate functionCallback);
</code></pre>

<ol>
<li><p><a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getdelegateforfunctionpointer?view=netframework-4.7.2" rel="nofollow noreferrer">https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.getdelegateforfunctionpointer?view=netframework-4.7.2</a></p></li>
<li><p><a href="https://stackoverflow.com/questions/1969049/c-sharp-p-invoke-marshalling-structures-containing-function-pointers">https://stackoverflow.com/questions/1969049/c-sharp-p-invoke-marshalling-structures-containing-function-pointers</a></p></li>
<li><p><a href="http://www.xinterop.com/index.php/2013/04/13/introduction-to-c-pinvoke-interop-sdk/" rel="nofollow noreferrer">http://www.xinterop.com/index.php/2013/04/13/introduction-to-c-pinvoke-interop-sdk/</a></p></li>
</ol>
