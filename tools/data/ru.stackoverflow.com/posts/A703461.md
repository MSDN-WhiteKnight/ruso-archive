---
title: "Answer 703461"
se.owner.user_id: 16781
se.owner.display_name: "sp7"
se.owner.link: "https://ru.stackoverflow.com/users/16781/sp7"
se.answer_id: 703461
se.question_id: 701857
se.post_type: answer
se.score: 1
se.is_accepted: False
---
<p>Проверку что не указано недопустимых символов в имени файла или пути можно сделать так:    </p>

<pre><code>private static bool IsValidFilename(string fileName)
{
    var invalidChars = string.Join("", Path.GetInvalidFileNameChars());
    var regex = new Regex("[" + Regex.Escape(string.Join("", invalidChars)) + "]");

    return !regex.IsMatch(fileName);
}

private static bool IsValidFilePath(string path)
{
    var invalidChars = string.Join("", Path.GetInvalidPathChars());
    var regex = new Regex("[" + Regex.Escape(string.Join("", invalidChars)) + "]");

    return !regex.IsMatch(path);
}

static void Main(string[] args)
{
     foreach (var invalidFileNameChar in Path.GetInvalidFileNameChars())
     {
         var name = "Имя" + invalidFileNameChar;
         Console.WriteLine($"{name} --&gt; {IsValidFileName(name)}");
     }

     Console.WriteLine(new string('-', 40));

     foreach (var invalidFilePathChar in Path.GetInvalidPathChars())
     {
         var path = @"C:\my.txt" + invalidFilePathChar;
         Console.WriteLine($"{path} --&gt; {IsValidFilePath(path)}");
     }   
}
</code></pre>
