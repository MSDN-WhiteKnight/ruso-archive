{"tags":["c#"],"owner":{"reputation":43,"user_id":324060,"user_type":"registered","profile_image":"https://lh4.googleusercontent.com/-ngGJLsGtDmY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZhhawTD1_nIKSjzT1ernGnfI90Zw/mo/photo.jpg?sz=128","display_name":"Anonymous","link":"https://ru.stackoverflow.com/users/324060/anonymous"},"is_answered":true,"view_count":71,"accepted_answer_id":946370,"answer_count":1,"score":2,"last_activity_date":1550510480,"creation_date":1550472388,"question_id":946095,"link":"https://ru.stackoverflow.com/questions/946095/%d0%9a%d0%b0%d0%ba-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%b8%d1%82%d1%8c-%d0%bd%d0%b8%d0%b7%d0%ba%d0%be%d1%83%d1%80%d0%be%d0%b2%d0%bd%d0%b5%d0%b2%d1%8b%d0%b9-%d1%85%d1%83%d0%ba-%d0%bd%d0%b0-%d0%be%d1%82%d0%b4%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%bf%d1%80%d0%be%d1%86%d0%b5%d1%81%d1%81","title":"Как установить низкоуровневый хук на отдельный процесс?","body":"<p>Как установить хук на один процесс?</p>\n\n<pre><code>private const int WH_KEYBOARD_LL = 13;\nprivate const int WM_KEYDOWN = 0x0100;\nprivate static LowLevelKeyboardProc _proc = HookCallback;\nprivate static IntPtr _hookID = IntPtr.Zero;\nprivate static Form1 _applicationForm;\n\n\n// Данный метод устанавливает хук на все процессы:\nprivate static IntPtr SetHook(LowLevelKeyboardProc proc)\n{\n   using (Process curProcess = Process.GetCurrentProcess())\n   using (ProcessModule curModule = curProcess.MainModule)\n   {\n      return SetWindowsHookEx(WH_KEYBOARD_LL, proc,\n      GetModuleHandle(curModule.ModuleName), 0);\n   }\n}\n\nprivate delegate IntPtr LowLevelKeyboardProc(int nCode, IntPtr wParam, IntPtr lParam);\n\nprivate static IntPtr HookCallback(int nCode, IntPtr wParam, IntPtr lParam)\n{ \n   return CallNextHookEx(_hookID, nCode, wParam, lParam);\n}\n</code></pre>\n\n<p>Как мне установить только на отдельный процесс?</p>\n"}