{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":false,"score":3,"last_activity_date":1503504824,"last_edit_date":1503504824,"creation_date":1503473626,"answer_id":709391,"question_id":708052,"body":"<p>Ну, предупреждение \"assignment from incompatible pointer type\" вполне логично. GetProcAddress возвращает указатель на функцию с неопределенным списком параметров, возвращающую int. Приведение к любым другим указателям выведет это предупреждение. Его можно игнорировать.</p>\n\n<p>Что касается Segmentation Fault, у меня ничего такого не наблюдается. BASS_GetVersion, BASS_GetDeviceInfo нормально работают. Либо вы не ту версию DLL-ки подкладываете (32-битную вместо 64-битной или наоборот), либо какая-то локальная проблема с вашей системой.</p>\n\n<p>UPD: На всякий случай, мой рабочий пример:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#define BASSDEF(f) (WINAPI *f) // define the functions as pointers\n#include \"bass.h\"\n#include &lt;conio.h&gt;\n\nvoid ListDevices()\n{\n    BASS_DEVICEINFO di;\n    int a;\n    for (a=1;BASS_GetDeviceInfo(a,&amp;di);a++) {\n        if (di.flags&amp;BASS_DEVICE_ENABLED) // enabled output device\n            printf(\"dev %d: %s\\n\",a,di.name);\n    }\n}\n\nvoid main(int argc, char **argv)\n{\n    HINSTANCE bass=LoadLibrary(\"BASS.DLL\"); // load BASS\n    BASS_Init=GetProcAddress(bass,\"BASS_Init\");\n    BASS_GetVersion=GetProcAddress(bass,\"BASS_GetVersion\");\n    BASS_GetDeviceInfo=GetProcAddress(bass,\"BASS_GetDeviceInfo\");\n\n    // check the correct BASS was loaded\n    DWORD ver;\n    ver=BASS_GetVersion();\n    if (HIWORD(ver)!=BASSVERSION) {\n        printf(\"An incorrect version of BASS was loaded\");\n        return;\n    }\n    else\n    {\n        printf(\"BASS version is %d\\n\\n\",ver);\n    }\n\n    ListDevices();\n    system(\"pause\");\n}\n</code></pre>\n\n<p>Компилируется и успешно работает (выводит список устройств), тестировалось на:</p>\n\n<ul>\n<li>Windows 7 x64</li>\n<li>GCC 3.4.2, 4.9.2 (32-битный режим)</li>\n<li>BASS 2.4</li>\n</ul>\n"}