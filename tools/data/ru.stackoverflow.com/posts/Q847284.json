{"tags":["c#","sql","база-данных"],"owner":{"reputation":273,"user_id":245329,"user_type":"registered","accept_rate":60,"profile_image":"https://www.gravatar.com/avatar/e90d0c32d0bac0fec01c0b5ab318e71c?s=128&d=identicon&r=PG&f=1","display_name":"Andrey Sherman","link":"https://ru.stackoverflow.com/users/245329/andrey-sherman"},"is_answered":true,"view_count":73,"accepted_answer_id":848132,"answer_count":1,"score":1,"last_activity_date":1530254773,"creation_date":1530088381,"last_edit_date":1530089483,"question_id":847284,"link":"https://ru.stackoverflow.com/questions/847284/%d0%9c%d0%b5%d1%82%d0%be%d0%b4-%d0%b4%d0%bb%d1%8f-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81%d0%b0-%d0%b8%d0%bd%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%86%d0%b8%d0%b8-%d0%b8%d0%b7-%d0%b1%d0%b0%d0%b7%d1%8b-%d0%bd%d0%b0-c","title":"Метод для запроса информации из базы на C#","body":"<p>Есть у меня программа, которой я могу подключаться к БД SQL, запускать процедуру на SQL сервере с параметрами, и получать ответ. Ответ это обычно список из одного столбца и нескольких строк.</p>\n\n<pre><code>string ConString = \"Server=servname;Database=DB;Trusted_Connection=True;\"; //строка подключения к БД с использованием Windows авторизации\n        using (SqlConnection connection = new SqlConnection(ConString))\n        {\n            using (SqlCommand command = connection.CreateCommand())\n            {\n                command.CommandText = string.Format(@\"DECLARE   @return_value int\nEXEC    @return_value = [dbo].[Match] \n    @FN_Client = N'{0}',\n    @LN_Client = N'{1}',\n    @MN_Сlient = N'{2}' \n\", fn, sn, mn);//текст запроса\n                connection.Open();\n                SqlDataReader reader = command.ExecuteReader();\n                while (reader.Read())\n                {\n\n                        Console.WriteLine(reader[0].ToString());\n                }\n\n                return;\n            }\n        }\n</code></pre>\n\n<p>Хочу создать класс, и метод, чтобы не плодить много кода. Подскажите пожалуйста, как можно засунуть в метод мой код, чтобы на выходе получить список?</p>\n"}