{"owner":{"reputation":40380,"user_id":232,"user_type":"registered","accept_rate":78,"profile_image":"https://www.gravatar.com/avatar/68165920736c8b4d2c9cce3e3de39dcb?s=128&d=identicon&r=PG","display_name":"avp","link":"https://ru.stackoverflow.com/users/232/avp"},"is_accepted":false,"score":0,"last_activity_date":1545340525,"creation_date":1545340525,"answer_id":923570,"question_id":923326,"body":"<p>По крайней мере в Линуксе, если верить <a href=\"http://man7.org/linux/man-pages/man5/proc.5.html\" rel=\"nofollow noreferrer\">man 5 proc</a>\n это возможно.</p>\n\n<p>Cудя по описанию, для известного адреса переменной  вам нужно прочесть  соответствующие 8 байт (<code>uint64_t</code>) (для страниц размером 4k просто сдвиньте адрес на 9, обнулите 3 младших бита и сделайте seek) из файла <strong>/proc/self/pagemap</strong> и посмотреть на бит 62. Если 0, то страница с переменной в swap-е.</p>\n\n<blockquote>\n<pre><code>/proc/[pid]/pagemap (since Linux 2.6.25)\n          This file shows the mapping of each of the process's virtual\n          pages into physical page frames or swap area.  It contains one\n          64-bit value for each virtual page, with the bits set as fol‐\n          lows:\n\n               63     If set, the page is present in RAM.\n\n               62     If set, the page is in swap space\n\n               61 (since Linux 3.5)\n                      The page is a file-mapped page or a shared anony‐\n                      mous page.\n\n               60–57 (since Linux 3.11)\n                      Zero\n\n               56 (since Linux 4.2)\n                      The page is exclusively mapped.\n\n               55 (since Linux 3.11)\n                      PTE is soft-dirty (see the kernel source file Doc‐\n                      umentation/vm/soft-dirty.txt).\n\n               54–0   If the page is present in RAM (bit 63), then these\n                      bits provide the page frame number, which can be\n                      used to index /proc/kpageflags and /proc/kpage‐\n                      count.  If the page is present in swap (bit 62),\n                      then bits 4–0 give the swap type, and bits 54–5\n                      encode the swap offset.\n\n          Before Linux 3.11, bits 60–55 were used to encode the base-2\n          log of the page size.\n\n          To employ /proc/[pid]/pagemap efficiently, use\n          /proc/[pid]/maps to determine which areas of memory are actu‐\n          ally mapped and seek to skip over unmapped regions.\n\n          The /proc/[pid]/pagemap file is present only if the CON‐\n          FIG_PROC_PAGE_MONITOR kernel configuration option is enabled.\n\n          Permission to access this file is governed by a ptrace access\n          mode PTRACE_MODE_READ_FSCREDS check; see ptrace(2).\n</code></pre>\n</blockquote>\n"}