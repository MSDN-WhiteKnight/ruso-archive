{"owner":{"reputation":199,"user_id":263154,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/2a1506dcdce00967098100d3de29e4c5?s=128&d=identicon&r=PG&f=1","display_name":"Andrew Tarasenko","link":"https://ru.stackoverflow.com/users/263154/andrew-tarasenko"},"is_accepted":false,"score":4,"last_activity_date":1514904776,"last_edit_date":1514904776,"creation_date":1514473826,"answer_id":764552,"question_id":764547,"body":"<pre><code>namespace Is64Bit\n{\n    using System;\n    using System.ComponentModel;\n    using System.Diagnostics;\n    using System.Runtime.InteropServices;\n\n    internal static class Program\n    {\n        private static void Main()\n        {\n            foreach (var p in Process.GetProcesses())\n            {\n                try\n                {\n                    Console.WriteLine(p.ProcessName + \" is \" + (p.IsWin64Emulator() ? string.Empty : \"not \") + \"32-bit\");\n                }\n                catch (Win32Exception ex)\n                {\n                    if (ex.NativeErrorCode != 0x00000005)\n                    {\n                        throw;\n                    }\n                }\n            }\n\n            Console.ReadLine();\n        }\n\n        private static bool IsWin64Emulator(this Process process)\n        {\n            if ((Environment.OSVersion.Version.Major &gt; 5)\n                || ((Environment.OSVersion.Version.Major == 5) &amp;&amp; (Environment.OSVersion.Version.Minor &gt;= 1)))\n            {\n                bool retVal;\n\n                return NativeMethods.IsWow64Process(process.Handle, out retVal) &amp;&amp; retVal;\n            }\n\n            return false; // not on 64-bit Windows Emulator\n        }\n    }\n\n    internal static class NativeMethods\n    {\n        [DllImport(\"kernel32.dll\", SetLastError = true, CallingConvention = CallingConvention.Winapi)]\n        [return: MarshalAs(UnmanagedType.Bool)]\n        internal static extern bool IsWow64Process([In] IntPtr process, [Out] out bool wow64Process);\n    }\n}\n</code></pre>\n\n<p>Ссылка на источник <a href=\"https://stackoverflow.com/questions/1953377/how-to-determine-programmatically-whether-a-particular-process-is-32-bit-or-64-b\">ссылка</a></p>\n\n<p><strong>Примечание.</strong> Код ошибки 0x00000005 - <code>ERROR_ACCESS_DENIED</code> (возникает при попытке обратится к системному процессу без привилегий администратора).</p>\n"}