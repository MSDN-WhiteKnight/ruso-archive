{"tags":["c#","aforge"],"owner":{"reputation":605,"user_id":225774,"user_type":"registered","accept_rate":31,"profile_image":"https://i.stack.imgur.com/bW0BP.jpg?s=128&g=1","display_name":"Roman Ieromenko","link":"https://ru.stackoverflow.com/users/225774/roman-ieromenko"},"is_answered":true,"view_count":246,"answer_count":2,"score":2,"last_activity_date":1514221641,"creation_date":1512378692,"question_id":753484,"link":"https://ru.stackoverflow.com/questions/753484/%d0%9d%d0%b5-%d0%be%d1%82%d1%80%d0%b0%d0%b1%d0%b0%d1%82%d1%8b%d0%b2%d0%b0%d0%b5%d1%82-%d1%81%d0%be%d0%b1%d1%8b%d1%82%d0%b8%d0%b5-%d0%bd%d0%be%d0%b2%d0%be%d0%b3%d0%be-%d0%ba%d0%b0%d0%b4%d1%80%d0%b0-newframe-aforge","title":"Не отрабатывает событие нового кадра NewFrame Aforge","body":"<p>Я сильно запутался. WinForms, использую библиотеку Afforge, их пространства имен - AForge.Video, AForge.Video.DirectShow, AForge.Controls и т. д. Используем control VideoSourcePlayer из библиотеки «Controls.dll». Ниже код:</p>\n\n<pre><code>private void buttonVideo_Click(object sender, EventArgs e)\n{\n    //ourTimer.Enabled = true;\n    //ourTimer.Start();\n    //ourTimer.Interval = 1000 * checkedListBoxMedia.Items.Count * 12 * 3 / 25;\n    progressBar1.Value = 0;\n    progressBar1.Maximum = 100 * checkedListBoxMedia.Items.Count;\n    progressBar1.Step = 25;\n    //progressThread.Start();\n    //ourTimer.Tick += new System.EventHandler(timer_Tick);           \n    OpenVideoSource(medialist);\n}\n</code></pre>\n\n<p>Далее:</p>\n\n<pre><code>/ Open video source\nprivate async void OpenVideoSource(List&lt;FileVideoSource&gt; source)\n{\n    // set busy cursor            \n    this.Cursor = Cursors.WaitCursor;\n    // start new video source\n    videoNumber = 0;\n    // Establish timer settings.\n    System.Threading.Timer t = new System.Threading.Timer(\n      timeCB,     // The TimerCallback delegate type.\n      \"Added a pgogress\",       // Any info to pass into the called method (null for no info).\n      0,          // Amount of time to wait before starting.\n      2800);      // Interval of time between calls (in milliseconds).\n    foreach (IVideoSource iv in source)\n    {\n        videoNumber++;\n        //int x1 = 1;\n        await VideoDisplay(iv);\n\n    }\n\n}\n\nprivate async Task VideoDisplay(IVideoSource iv)\n{\n    await Task.Run(() =&gt;\n    {                \n        Invoke((MethodInvoker)\n               delegate\n               {\n                   videoSourcePlayer.VideoSource = iv;                           \n                   videoSourcePlayer.Start();                           \n               });\n    });\n    //!!!12000\n    Thread.Sleep(7000);\n}\n</code></pre>\n\n<p>В конструкторе формы был установлен обработчик:</p>\n\n<pre><code>public Form1()\n{            \n    this.videoSourcePlayer.NewFrame += new AForge.Controls.VideoSourcePlayer.NewFrameHandler(this.videoSourcePlayer_NewFrame);\n    frameNumber = 0;           \n\n}\n</code></pre>\n\n<p>Однако при запуске VideoSourcePlayer this.videoSourcePlayer.NewFrame - это событие не обрабатывается. Пожалуйста помогите. спасибо</p>\n"}