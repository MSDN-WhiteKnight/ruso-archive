{"owner":{"reputation":16137,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":3,"last_activity_date":1542341577,"last_edit_date":1542341577,"creation_date":1542297755,"answer_id":907023,"question_id":906986,"body":"<ol>\n<li>Создать свой сертификат с помощью <a href=\"https://docs.microsoft.com/en-us/windows/desktop/seccrypto/makecert\" rel=\"nofollow noreferrer\">makecert</a></li>\n</ol>\n\n<p>Открываем командную строку Visual Studio, выполняем команду такого вида</p>\n\n<pre><code>makecert -r -pe -n \"CN=Vasya Pupkin Software\" -b 01/01/2018 -e 01/01/2028 -sky exchange -ss my\n</code></pre>\n\n<p>Сертификат появится в хранилище текущего пользователя. Открываем mmc, выполняем \"Файл - Добавить или удалить оснастку\", выбираем \"Сертификаты\". Находим созданный сертификат, делаем экспорт, выбрав в мастере параметры \"Экспортировать закрытый ключ\", \"Экспортировать все расширенные свойства\", и указав формат pfx для выходного файла. В итоге получаем файл .pfx с сертификатом и закрытым ключом, который можно использовать для подписания приложений.</p>\n\n<p>Повторно сделаем экспорт, отказавшись на этот раз от экспорта закрытого ключа и выбрав формат cer. Получим в результате файл сертификата без закрытого ключа, который понадобится для распространения на целевые машины.</p>\n\n<ol start=\"2\">\n<li>Подписать программу с помощью <a href=\"https://docs.microsoft.com/ru-ru/dotnet/framework/tools/signtool-exe\" rel=\"nofollow noreferrer\">Signtool</a></li>\n</ol>\n\n<p>В командной строке Visual Studio выполняем</p>\n\n<pre><code>signtool sign /f \"(путь к pfx)\" /p (пароль закрытого ключа) /v \"(путь к exe)\"\n</code></pre>\n\n<p>Получаем подписанный exe-файл.</p>\n\n<ol start=\"3\">\n<li>На машинах, где будет запускаться программа, добавить сертификат (без закрытого ключа) в хранилище \"Доверенные корневые центры сертификации\". </li>\n</ol>\n\n<p>Для этого в оснастке \"Сертификаты\" выбираем хранилище, выполняем \"Действия\" - \"Все задачи\" - \"Импорт\" и указываем cer-файл.</p>\n\n<p>Должно получиться так:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cUwza.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUwza.png\" alt=\"certificate\"></a></p>\n\n<p><strong>Примечание.</strong> Если вам нужно, чтобы сертификат работал на всех машинах, он должен быть выдан нормальным центром сертификации.</p>\n\n<p>Результат:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AdEVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AdEVP.png\" alt=\"UAC\"></a></p>\n"}