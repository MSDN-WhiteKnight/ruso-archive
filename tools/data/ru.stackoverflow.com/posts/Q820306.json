{"tags":["c++","c","winapi"],"owner":{"reputation":4975,"user_id":206435,"user_type":"registered","accept_rate":78,"profile_image":"https://www.gravatar.com/avatar/aff8ab0e5f74d01facde887535318d53?s=128&d=identicon&r=PG","display_name":"ヒミコ","link":"https://ru.stackoverflow.com/users/206435/%e3%83%92%e3%83%9f%e3%82%b3"},"is_answered":true,"view_count":51,"accepted_answer_id":820562,"answer_count":1,"score":2,"last_activity_date":1524984465,"creation_date":1524839336,"last_edit_date":1524859181,"question_id":820306,"link":"https://ru.stackoverflow.com/questions/820306/%d0%9e%d1%82%d0%bc%d0%b5%d0%bd%d1%8f%d0%b5%d1%82-%d0%bb%d0%b8-%d1%80%d0%b5%d0%b3%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%86%d0%b8%d1%8e-%d0%ba%d0%bb%d0%b0%d1%81%d1%81%d0%b0-%d0%be%d0%ba%d0%bd%d0%b0-postquitmessage","title":"Отменяет ли регистрацию класса окна PostQuitMessage","body":"<p>Когда мое приложение стартует, <code>RegisterClassEx</code> иногда возвращает <code>0</code>, и приложение приходится аварийно завершать. Это происходит не по тому ли что иногда класс окна не уничтожается, а остается в памяти менеджера окон? Нужно ли мне вызывать <code>UnregisterClass</code> вручную после получения сообщения <code>WM_DESTROY</code> и вызова <code>PostQuitMessage</code>?</p>\n\n<p>Еще приведу цитату с одного из сайтов по <code>winapi</code>:</p>\n\n<blockquote>\n  <p>Регистрация всех классов окон, которые зарегистрировало приложение,\n  должна быть отменена при его завершении.</p>\n</blockquote>\n\n<p>От чего появляется мнение что программист обязан отменять регистрацию классов окон независимо от обстоятельств.</p>\n"}