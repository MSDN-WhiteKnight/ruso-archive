---
title: "Как правильно организовать отношение между квадратом и прямоугольником с точки зрения наследования?"
se.owner.user_id: 212981
se.owner.display_name: "Andrei Khotko"
se.owner.link: "https://ru.stackoverflow.com/users/212981/andrei-khotko"
se.link: "https://ru.stackoverflow.com/questions/984189/%d0%9a%d0%b0%d0%ba-%d0%bf%d1%80%d0%b0%d0%b2%d0%b8%d0%bb%d1%8c%d0%bd%d0%be-%d0%be%d1%80%d0%b3%d0%b0%d0%bd%d0%b8%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d1%8c-%d0%be%d1%82%d0%bd%d0%be%d1%88%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bc%d0%b5%d0%b6%d0%b4%d1%83-%d0%ba%d0%b2%d0%b0%d0%b4%d1%80%d0%b0%d1%82%d0%be%d0%bc-%d0%b8-%d0%bf%d1%80%d1%8f%d0%bc%d0%be%d1%83%d0%b3%d0%be%d0%bb%d1%8c%d0%bd%d0%b8%d0%ba%d0%be%d0%bc-%d1%81-%d1%82%d0%be%d1%87%d0%ba%d0%b8-%d0%b7"
se.question_id: 984189
se.post_type: question
se.score: 7
---
<p>Представим, что у нас есть два класса: прямоугольник <code>Rectangle</code> и квадрат <code>Square</code>. Как между ними правильно организовать отношение с точки зрения наследования? </p>

<p>С одной стороны, квадрат - это частный случай прямоугольника, поэтому квадрат будет наследником, а прямоугольник - родителем (и это логично, ведь если изображать в кругах Эйлера, то круг Квадрат будет внутри круга Прямоугольник).</p>

<p>С другой стороны, с точки зрения ООП все должно быть наоборот, т.е. прямоугольник должен наследоваться от квадрата, поскольку квадрату достаточно знать длину одной стороны, в то время как прямоугольнику - две.</p>

<p>Чтобы не быть голословным, приведу 2 примера на языке C#.</p>

<ol>
<li><p>Rectangle наследует Square:</p>

<pre><code>public class Square
{
    public int SideA { get; set; }

    public Square(int sideA)
    {
        SideA = sideA;
    }

    public virtual int Perimeter =&gt; 4 * SideA;
}

public class Rectangle : Square
{
    public int SideB { get; set; }

    public Rectangle(int sideA, int sideB) : base(sideA)
    {
        SideB = sideB;
    }

    public override int Perimeter =&gt; 2 * (SideA + SideB);
}
</code></pre>

<p>Здесь функциональность расширяется благодаря появлению новой стороны <code>SideB</code>, однако пришлось переопределить свойство Perimeter. С точки зрения ООП, на мой взгляд, все хорошо (поправьте, если я не прав).</p></li>
<li><p>Square наследует Rectangle:</p>

<pre><code>public class Square : Rectangle
{
    public Square(int sideA) : base(sideA, sideA)
    {
    }
}

public class Rectangle
{
    public int SideA { get; set; }
    public int SideB { get; set; }        

    public Rectangle(int sideA, int sideB)
    {
        SideA = sideA;
        SideB = sideB;
    }

    public int Perimeter =&gt; 2 * (SideA + SideB);
}
</code></pre>

<p>Здесь, если рассматривать класс Square, для него появилось
"бесполезное" свойство SideB, которое является копией SideA. Т.е. по
факту, с точки зрения ООП, функциональность сузилась.</p></li>
</ol>

<p>Лично мне больше нравится второй вариант, он более лаконичный и правильный с точки зрения логики, но все же, как же правильно поступать в таком случае?</p>
