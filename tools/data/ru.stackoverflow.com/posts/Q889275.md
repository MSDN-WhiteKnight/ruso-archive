---
title: "Curl возвращает CURLE_LOGIN_DENIED при попытке обращения к mail.ru по IMAP"
se.owner.user_id: 311350
se.owner.display_name: "Константин R."
se.owner.link: "https://ru.stackoverflow.com/users/311350/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-r"
se.link: "https://ru.stackoverflow.com/questions/889275/curl-%d0%b2%d0%be%d0%b7%d0%b2%d1%80%d0%b0%d1%89%d0%b0%d0%b5%d1%82-curle-login-denied-%d0%bf%d1%80%d0%b8-%d0%bf%d0%be%d0%bf%d1%8b%d1%82%d0%ba%d0%b5-%d0%be%d0%b1%d1%80%d0%b0%d1%89%d0%b5%d0%bd%d0%b8%d1%8f-%d0%ba-mail-ru-%d0%bf%d0%be-imap"
se.question_id: 889275
se.post_type: question
se.score: 1
---
<p>При попытке подключения к imap mail.ru выплевывает ошибку CURLE_LOGIN_DENIED, пробовал различные комбинации логина (с хостом и без) тот же результат, есть какие-нибудь идеи как это победить?<br>
P.S. Данные точно корректные</p>

<p>Часть кода:</p>

<pre><code>curl_easy_setopt(curl, CURLOPT_USERNAME, "****@mail.ru");
curl_easy_setopt(curl, CURLOPT_PASSWORD, "****");


curl_easy_setopt(curl, CURLOPT_VERBOSE, 1L);
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYHOST, 0);
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYPEER, 0L);

curl_easy_setopt(curl, CURLOPT_URL, "imap://imap.mail.ru");
curl_easy_setopt(curl, CURLOPT_CUSTOMREQUEST, "SEARCH NEW");

res = curl_easy_perform(curl);
</code></pre>
