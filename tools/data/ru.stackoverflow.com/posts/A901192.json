{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":2,"last_activity_date":1541138889,"creation_date":1541138889,"answer_id":901192,"question_id":899893,"body":"<p>Используйте функцию <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/winuser/nf-winuser-registerhotkey\" rel=\"nofollow noreferrer\">RegisterHotKey</a>:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Text;\nusing System.Runtime.InteropServices;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp1\n{\n    public partial class Form1 : Form\n    {\n        [DllImport(\"user32.dll\", SetLastError = true)]\n        [return: MarshalAs(UnmanagedType.Bool)]\n        public static extern bool RegisterHotKey(IntPtr hWnd, int id, uint fsModifiers, uint vk);\n\n        //необходимые константы\n        public const int MOD_ALT = 0x1;\n        public const int MOD_CONTROL = 0x2;\n        public const int MOD_SHIFT = 0x4;\n        public const int MOD_WIN = 0x8;\n        public const int WM_HOTKEY = 0x312;        \n\n        //обработчик сообщений для окна\n        protected override void WndProc(ref Message m)\n        {\n            if (m.Msg == WM_HOTKEY)\n            {\n                textBox1.Text += DateTime.Now.ToString() + \". Hotkey pressed, ID = 0x\" + m.WParam.ToString(\"X\");\n                textBox1.Text += Environment.NewLine;\n                m.Result = (IntPtr)0;\n                return;\n            }\n\n            base.WndProc(ref m);\n        }\n\n\n        public Form1()\n        {\n            InitializeComponent();\n\n            bool res = RegisterHotKey(this.Handle, 1, 0, (uint)Keys.F1);//регистрируем горячую клавишу\n            if (res == false) MessageBox.Show(\"RegisterHotKey failed\");\n        }\n    }\n}\n</code></pre>\n"}