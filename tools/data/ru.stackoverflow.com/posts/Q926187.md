---
title: "Высокая нагрузка на ЦП при выполнении программы"
se.owner.user_id: 321836
se.owner.display_name: "Кирилл Панфилов"
se.owner.link: "https://ru.stackoverflow.com/users/321836/%d0%9a%d0%b8%d1%80%d0%b8%d0%bb%d0%bb-%d0%9f%d0%b0%d0%bd%d1%84%d0%b8%d0%bb%d0%be%d0%b2"
se.link: "https://ru.stackoverflow.com/questions/926187/%d0%92%d1%8b%d1%81%d0%be%d0%ba%d0%b0%d1%8f-%d0%bd%d0%b0%d0%b3%d1%80%d1%83%d0%b7%d0%ba%d0%b0-%d0%bd%d0%b0-%d0%a6%d0%9f-%d0%bf%d1%80%d0%b8-%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b5%d0%bd%d0%b8%d0%b8-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc%d1%8b"
se.question_id: 926187
se.post_type: question
se.score: 1
---
<p>При вводе количества секунд начинает грузить процессор.</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;Windows.h&gt;
using namespace std;

int main()
{
    int time,x,y;
    bool state = false;
    cout &lt;&lt; "Time between clicks(in ms): ";
    cin &gt;&gt; time;
    cout &lt;&lt; "Press F12 to activate / deactivate the script.";
    POINT mouse;
    while(true)
    {       
        if (GetAsyncKeyState(VK_F12))
        {
            if (state == false) 
            {
                state = true;
                Sleep(250);
            } else
            {
                state = false;
                Sleep(250); 
            }
        }
        if (GetKeyState(VK_LBUTTON) &amp; 0x8000 &amp;&amp; (state == true))
        {
            GetCursorPos(&amp;mouse); 
            mouse_event(MOUSEEVENTF_LEFTUP,mouse.x,mouse.y ,0,0); 
            mouse_event(MOUSEEVENTF_LEFTDOWN,mouse.x,mouse.y ,0,0); 
            Sleep(time);
        }
        if (GetKeyState(VK_RBUTTON) &amp; 0x8000 &amp;&amp; (state == true))
        {
            GetCursorPos(&amp;mouse); 
            mouse_event(MOUSEEVENTF_RIGHTUP,mouse.x,mouse.y ,0,0); 
            mouse_event(MOUSEEVENTF_RIGHTDOWN,mouse.x,mouse.y ,0,0); 
            Sleep(time); 
        }
    }
}
</code></pre>

<p>Что можно сделать в данной ситуации?</p>
