{"tags":["c++","winapi","циклы"],"owner":{"reputation":11,"user_id":321836,"user_type":"registered","profile_image":"https://www.gravatar.com/avatar/527c85a7a62b105bae108413fbd346f8?s=128&d=identicon&r=PG&f=1","display_name":"Кирилл Панфилов","link":"https://ru.stackoverflow.com/users/321836/%d0%9a%d0%b8%d1%80%d0%b8%d0%bb%d0%bb-%d0%9f%d0%b0%d0%bd%d1%84%d0%b8%d0%bb%d0%be%d0%b2"},"is_answered":false,"view_count":77,"answer_count":1,"score":1,"last_activity_date":1546195184,"creation_date":1545920324,"last_edit_date":1546195184,"question_id":926187,"link":"https://ru.stackoverflow.com/questions/926187/%d0%92%d1%8b%d1%81%d0%be%d0%ba%d0%b0%d1%8f-%d0%bd%d0%b0%d0%b3%d1%80%d1%83%d0%b7%d0%ba%d0%b0-%d0%bd%d0%b0-%d0%a6%d0%9f-%d0%bf%d1%80%d0%b8-%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b5%d0%bd%d0%b8%d0%b8-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b0%d0%bc%d0%bc%d1%8b","title":"Высокая нагрузка на ЦП при выполнении программы","body":"<p>При вводе количества секунд начинает грузить процессор.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Windows.h&gt;\nusing namespace std;\n\nint main()\n{\n    int time,x,y;\n    bool state = false;\n    cout &lt;&lt; \"Time between clicks(in ms): \";\n    cin &gt;&gt; time;\n    cout &lt;&lt; \"Press F12 to activate / deactivate the script.\";\n    POINT mouse;\n    while(true)\n    {       \n        if (GetAsyncKeyState(VK_F12))\n        {\n            if (state == false) \n            {\n                state = true;\n                Sleep(250);\n            } else\n            {\n                state = false;\n                Sleep(250); \n            }\n        }\n        if (GetKeyState(VK_LBUTTON) &amp; 0x8000 &amp;&amp; (state == true))\n        {\n            GetCursorPos(&amp;mouse); \n            mouse_event(MOUSEEVENTF_LEFTUP,mouse.x,mouse.y ,0,0); \n            mouse_event(MOUSEEVENTF_LEFTDOWN,mouse.x,mouse.y ,0,0); \n            Sleep(time);\n        }\n        if (GetKeyState(VK_RBUTTON) &amp; 0x8000 &amp;&amp; (state == true))\n        {\n            GetCursorPos(&amp;mouse); \n            mouse_event(MOUSEEVENTF_RIGHTUP,mouse.x,mouse.y ,0,0); \n            mouse_event(MOUSEEVENTF_RIGHTDOWN,mouse.x,mouse.y ,0,0); \n            Sleep(time); \n        }\n    }\n}\n</code></pre>\n\n<p>Что можно сделать в данной ситуации?</p>\n"}