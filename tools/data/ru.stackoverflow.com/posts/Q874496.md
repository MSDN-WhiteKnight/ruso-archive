---
title: "импорт структуры и метода из c++"
se.owner.user_id: 233661
se.owner.display_name: "morp morpovich"
se.owner.link: "https://ru.stackoverflow.com/users/233661/morp-morpovich"
se.link: "https://ru.stackoverflow.com/questions/874496/%d0%b8%d0%bc%d0%bf%d0%be%d1%80%d1%82-%d1%81%d1%82%d1%80%d1%83%d0%ba%d1%82%d1%83%d1%80%d1%8b-%d0%b8-%d0%bc%d0%b5%d1%82%d0%be%d0%b4%d0%b0-%d0%b8%d0%b7-c"
se.question_id: 874496
se.post_type: question
se.score: 1
---
<p>есть такая структура </p>

<pre><code>struct VkExtensionProperties {
    char        extensionName[VK_MAX_EXTENSION_NAME_SIZE];
    uint32_t    specVersion;
}
</code></pre>

<p>и метод в котором она используется </p>

<p><code>VkResult vkEnumerateInstanceExtensionProperties(const char* pLayerName, uint32_t* pPropertyCount, VkExtensionProperties* pProperties)</code></p>

<p>в c# написал так </p>

<pre><code>public unsafe struct VkExtensionProperties
{
    public fixed char extensionName[(int)vk.VK_MAX_EXTENSION_NAME_SIZE];
    public uint specVersion;
}

VkResult vkEnumerateInstanceExtensionProperties([MarshalAs(UnmanagedType.LPWStr)] string pLayerName, ref uint pPropertyCount,[Out] [MarshalAs(UnmanagedType.LPArray)] VkExtensionProperties[] vkExtensionProperties);
</code></pre>

<p>но структуры оказываются пустыми. как правильно импортировать структуру и метод?</p>
