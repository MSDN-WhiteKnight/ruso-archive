{"tags":["c#","graphics","picturebox"],"owner":{"reputation":11,"user_id":297302,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ml4xx.jpg?s=128&g=1","display_name":"Mister Crabs","link":"https://ru.stackoverflow.com/users/297302/mister-crabs"},"is_answered":false,"view_count":105,"answer_count":1,"score":1,"last_activity_date":1544673762,"creation_date":1544641019,"last_edit_date":1544641424,"question_id":919213,"link":"https://ru.stackoverflow.com/questions/919213/%d0%94%d0%bb%d1%8f-%d0%ba%d0%b0%d1%80%d1%82%d0%b8%d0%bd%d0%ba%d0%b8-%d0%bd%d0%b5%d0%b4%d0%be%d1%81%d1%82%d0%b0%d1%82%d0%be%d1%87%d0%bd%d0%be-%d0%bf%d0%b0%d0%bc%d1%8f%d1%82%d0%b8-%d0%bf%d1%80%d0%b8-%d0%b8%d1%81%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b8-graphics","title":"Для картинки недостаточно памяти при использовании Graphics","body":"<p>Код очень прост: Нажимаю на кнопку, в PictureBox загружается картинка. </p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n        using (FileStream stream = File.OpenRead(FullName))\n        {\n            pictureBox1.Image = (Bitmap)Bitmap.FromStream(stream).Clone();\n            stream.Close();\n            stream.Dispose();\n        }\n}\n</code></pre>\n\n<p>Но когда из другой функции\\события использую Graphics на pictureBox'е, то он ругается на то, что недостаточно памяти. Ругается на Graphics.FromImage не зависимо от того, что я буду с этим графиксом делать. Пример:</p>\n\n<pre><code>using (Graphics g = Graphics.FromImage(pictureBox1.Image))\n{\n    g.Clear(Color.FromArgb(0, 255, 255, 255));\n    pictureBox1.Invalidate();\n}\n</code></pre>\n\n<p>Вопрос-то в том, почему до загрузки картинки в PictureBox могу делать с Graphics чего душа пожелает:обрезать, заливать,рисовать; а после загрузки картинки нет?\np.s. Картинки пробовал разные и разного размера. Одна и та же картинка работает до загрузки(она уже была в pictureBox по умолчанию) и не работает после загрузки в pictureBox. \nОбошел достаточно много форумов по этой теме, но свой случай(или максимально похожий случай) не нашел.</p>\n"}