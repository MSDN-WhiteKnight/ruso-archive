---
title: "Класс или метод для получения html C#"
se.owner.user_id: 206350
se.owner.display_name: "FaNaT_96"
se.owner.link: "https://ru.stackoverflow.com/users/206350/fanat-96"
se.link: "https://ru.stackoverflow.com/questions/950524/%d0%9a%d0%bb%d0%b0%d1%81%d1%81-%d0%b8%d0%bb%d0%b8-%d0%bc%d0%b5%d1%82%d0%be%d0%b4-%d0%b4%d0%bb%d1%8f-%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%b5%d0%bd%d0%b8%d1%8f-html-c"
se.question_id: 950524
se.post_type: question
se.score: 2
---
<p>Давно интересует: а есть ли где-нибудь универсальный способ получения html-кода всей страницы? Ведь на некоторых сайта нужны куки, где-то еще и авторизация. 
В данный момент использую такой простенький вариант:</p>

<pre><code>static string getResponse(string uri)
{
    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(uri);
    request.UserAgent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586";
    using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
    using (StreamReader reader = new StreamReader(response.GetResponseStream(), Encoding.Default, true, 8192))
    {
        return reader.ReadToEnd();
    }
}
</code></pre>

<p>В большинстве случаев его хватает, но иногда приходится дополнять. Поэтому было бы неплохо заранее иметь готовый вариант, где все учтено</p>
