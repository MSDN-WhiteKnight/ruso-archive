---
title: "Answer 753915"
se.owner.user_id: 241298
se.owner.display_name: "Алексей Кременецкий"
se.owner.link: "https://ru.stackoverflow.com/users/241298/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b5%d0%b9-%d0%9a%d1%80%d0%b5%d0%bc%d0%b5%d0%bd%d0%b5%d1%86%d0%ba%d0%b8%d0%b9"
se.answer_id: 753915
se.question_id: 753833
se.post_type: answer
se.score: 0
se.is_accepted: False
---
<p>Пример кода открытия на низком уровне диска я привел. Дальше Вам нужно разобраться какой тип файловой системы у вас в наличии и по таблицам файловой системы определять принадлежность кластера. </p>

<pre><code>int _tmain(int argc, _TCHAR* argv[])
{

    HANDLE H = CreateFileW(L"\\\\.\\PhysicalDrive0", GENERIC_READ, FILE_SHARE_READ,0,OPEN_EXISTING,0,0);
    if(H == INVALID_HANDLE_VALUE)
    {
          DWORD err = GetLastError();
          std::cout &lt;&lt; "Не удалось открыть диск!" &lt;&lt; std::endl;
                  return 1;   
    }
    CloseHandle(H);
    std::cin.get();
    std::cin.ignore();
    return 0;
}
</code></pre>

<p>Настоятельно рекомендую сначала почитать о системной программировании под windows. например <a href="http://bydlokoder.ru/index.php?p=books_WinAPI" rel="nofollow noreferrer">http://bydlokoder.ru/index.php?p=books_WinAPI</a></p>
