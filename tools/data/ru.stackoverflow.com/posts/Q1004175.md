---
title: "Аналог структуры C++ с битовыми полями в C#"
se.owner.user_id: 229982
se.owner.display_name: "XmaksasX"
se.owner.link: "https://ru.stackoverflow.com/users/229982/xmaksasx"
se.link: "https://ru.stackoverflow.com/questions/1004175/%d0%90%d0%bd%d0%b0%d0%bb%d0%be%d0%b3-%d1%81%d1%82%d1%80%d1%83%d0%ba%d1%82%d1%83%d1%80%d1%8b-c-%d1%81-%d0%b1%d0%b8%d1%82%d0%be%d0%b2%d1%8b%d0%bc%d0%b8-%d0%bf%d0%be%d0%bb%d1%8f%d0%bc%d0%b8-%d0%b2-c"
se.question_id: 1004175
se.post_type: question
se.score: 6
---
<p>Объясните, выделяется размер для следующей структуры</p>

<pre><code>struct BURInSyncStruct
{
    uint16_t Sync1 : 12;
    uint16_t Sync2 : 12;
    uint16_t Sync3 : 12;
    uint16_t Sync4 : 12;
} __attribute__((packed));
</code></pre>

<p>и как записать такую структуру на C#? Я пытался записать следующим образом </p>

<pre><code>[StructLayout(LayoutKind.Explicit)]
struct BURInSyncStruct
{
    [FieldOffset(0)]
    public ushort Sync1;
    [FieldOffset(1)]
    public ushort Sync2;
    [FieldOffset(2)]
    public ushort Sync3;
    [FieldOffset(3)]
    public ushort Sync4;
} 
</code></pre>

<p>но, мне кажется, это не верно.   </p>
