---
title: "Как нарисовать графическое представление wav-файла?"
se.owner.user_id: 251015
se.owner.display_name: "bob torus"
se.owner.link: "https://ru.stackoverflow.com/users/251015/bob-torus"
se.link: "https://ru.stackoverflow.com/questions/878097/%d0%9a%d0%b0%d0%ba-%d0%bd%d0%b0%d1%80%d0%b8%d1%81%d0%be%d0%b2%d0%b0%d1%82%d1%8c-%d0%b3%d1%80%d0%b0%d1%84%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%be%d0%b5-%d0%bf%d1%80%d0%b5%d0%b4%d1%81%d1%82%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5-wav-%d1%84%d0%b0%d0%b9%d0%bb%d0%b0"
se.question_id: 878097
se.post_type: question
se.score: 2
---
<p>Есть считанный с файла WAV_HEADER и data segment. Как построить waveform, т.е график такого вида:</p>

<p><a href="https://i.stack.imgur.com/3h6LJ.gif" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/3h6LJ.gif" alt="waveform"></a></p>

<pre><code> struct  WAV_HEADER
{
    /* RIFF Chunk Descriptor */
    uint8_t         RIFF[4];        // RIFF Header Magic header
    uint32_t        ChunkSize;      // RIFF Chunk Size
    uint8_t         WAVE[4];        // WAVE Header
                                    /* "fmt" sub-chunk */
    uint8_t         fmt[4];         // FMT header
    uint32_t        Subchunk1Size;  // Size of the fmt chunk
    uint16_t        AudioFormat;    // Audio format 1=PCM,6=mulaw,7=alaw,     257=IBM Mu-Law, 258=IBM A-Law, 259=ADPCM
    uint16_t        NumOfChan;      // Number of channels 1=Mono 2=Sterio
    uint32_t        SamplesPerSec;  // Sampling Frequency in Hz
    uint32_t        bytesPerSec;    // bytes per second
    uint16_t        blockAlign;     // 2=16-bit mono, 4=16-bit stereo
    uint16_t        bitsPerSample;  // Number of bits per sample
                                    /* "data" sub-chunk */
    uint8_t         Subchunk2ID[4]; // "data"  string
    uint32_t        Subchunk2Size;  // Sampled data length
};
</code></pre>
