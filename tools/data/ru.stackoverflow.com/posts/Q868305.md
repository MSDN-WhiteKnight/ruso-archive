---
title: "Выполнить 3d-трансформацию картинки"
se.owner.user_id: 178988
se.owner.display_name: "Qwertiy"
se.owner.link: "https://ru.stackoverflow.com/users/178988/qwertiy"
se.link: "https://ru.stackoverflow.com/questions/868305/%d0%92%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d1%8c-3d-%d1%82%d1%80%d0%b0%d0%bd%d1%81%d1%84%d0%be%d1%80%d0%bc%d0%b0%d1%86%d0%b8%d1%8e-%d0%ba%d0%b0%d1%80%d1%82%d0%b8%d0%bd%d0%ba%d0%b8"
se.question_id: 868305
se.post_type: question
se.score: 2
---
<p>Есть <a href="https://i.stack.imgur.com/ThRWY.png" rel="nofollow noreferrer">картинка с экрана</a> и <a href="https://i.stack.imgur.com/Ygb1O.png" rel="nofollow noreferrer">картинка с камеры</a>. Во второй некая область сделана прозрачной. Под эту прозрачную область требуется поместить картинку с экрана. Сложность в том, что подкладываемую картинку надо предварительно повернуть.</p>

<p>На css соответствующий поворот легко делается <a href="//developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d" rel="nofollow noreferrer">3d-трансформацией</a>:</p>

<pre><code>transform: matrix3d(.615,0,0,.00015,0,.615,0,-.000005,0,0,1,0,-151,-120,0,1);
</code></pre>

<p>Мне нужно сделать такую же трансформацию, но на VB.NET или C#. Я нашёл, как сделать <a href="//msdn.microsoft.com/en-us/library/system.drawing.graphics.transform(v=vs.110).aspx" rel="nofollow noreferrer">2d-трансформацию</a>, но вот про 3d что-то ничего не нахожу.</p>

<p><strong>Как осуществить такую 3d-трансформацию в .NET?</strong></p>

<p>Ниже помещён сниппет для наглядной (стоит развернуть его на всю страницу) демонстрации желаемого результата. В нём при наведении мышки на проекцию экрана, она перемещается на передний план, а её граница подсвечивается. <a href="//ru.stackoverflow.com/a/594479/178988">Скрипт для масштабирования</a> используется исключительно для наглядности и не влияет на результат.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>~function(){var $window=$(window),$body=$("body");var ie= document.documentMode;function updateSizes(){var width=$window.width(),height=$window.height(),scale=Math.min(width/1920,height/1080,1);var style=$body[0].style;style.msZoom=ie===8||ie===9?scale:1;style.zoom=ie===10||ie===11?1:scale;style.mozTransform="scale("+scale+")";style.oTransform="scale("+scale+")";style.transform="scale("+scale+")";}$window.resize(updateSizes);updateSizes();}();</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>html{width:100%;overflow:hidden;}body{margin:0;position:relative;transform-origin:top left;}@supports(transform:scale(1)){body{-ms-zoom:1!important;zoom:1!important;}}
.camera{pointer-events:none;}.screen:hover{z-index:2;outline:10px solid rgba(255,0,0,.5);}

body {
  width: 1920px;
  height: 1080px;
}

img {
  position: absolute;
}

.camera {
  width: 1920px;
  height: 1080px;
}

.screen {
  width: 1600px;
  height: 900px;
  transform: matrix3d(.615,0,0,.00015,0,.615,0,-.000005,0,0,1,0,-151,-120,0,1);
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;img class="screen" src="//i.stack.imgur.com/ThRWY.png"&gt;
&lt;img class="camera" src="//i.stack.imgur.com/Ygb1O.png"&gt;</code></pre>
</div>
</div>
</p>
