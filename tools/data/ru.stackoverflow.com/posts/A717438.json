{"owner":{"reputation":16058,"user_id":240512,"user_type":"registered","profile_image":"https://i.stack.imgur.com/Ew6lG.png?s=128&g=1","display_name":"MSDN.WhiteKnight","link":"https://ru.stackoverflow.com/users/240512/msdn-whiteknight"},"is_accepted":true,"score":1,"last_activity_date":1505216360,"creation_date":1505216360,"answer_id":717438,"question_id":716785,"body":"<p>Рекомендации по правильной реализации движущейся графики в WinForms таковы.</p>\n\n<ol>\n<li><p>Определиться с оптимальным периодом перерисовки. Все зависит от ситуации, но меньше 10 мс для стандартных таймеров он точно не должен быть. Затем соответственно определиться, какое расстояние в пикселях объект должен проходить за этот период для получения желаемого эффекта (назовем <code>pix_per_tick</code>)</p></li>\n<li><p>Вместо PictureBox рисовать в чем-то полегче, например Panel.</p></li>\n<li><p>В обработчике таймера поместить код движения и обновления panel</p></li>\n</ol>\n\n<pre>private void timer1_Tick(object sender, EventArgs e)\n{\n   p.Y -= pix_per_tick;            \n   panel1.Refresh();\n}</pre>\n\n<ol start=\"4\">\n<li><p>В обработчике OnPaint поместить код рисования</p></li>\n<li><p>Включить двойную буферизацию на уровне ОС, добавив в код формы следующее:</p></li>\n</ol>\n\n<pre>protected override CreateParams CreateParams\n{\n    get\n    {\n       var cp = base.CreateParams;\n       cp.ExStyle |= 0x02000000;    // WS_EX_COMPOSITED\n       return cp;\n    }\n}</pre>\n"}