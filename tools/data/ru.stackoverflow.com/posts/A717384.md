---
title: "Answer 717384"
se.owner.user_id: 266830
se.owner.display_name: "kakeru"
se.owner.link: "https://ru.stackoverflow.com/users/266830/kakeru"
se.answer_id: 717384
se.question_id: 716785
se.post_type: answer
se.score: 2
se.is_accepted: False
---
<p>Не знаю, что за PictureBox такой, но в играх так уж сложилось, что перемещение осуществляется по обычной физической формуле:</p>

<p>S = v * t,
где:
S - расстояние, которое пройдёт объект
v - его скорость в пикселях в секунду (в данной случае)
t - прошедшее время.</p>

<p>Чтобы объекты двигались плавно, их надо двигать каждый кадр на S, подставляя вместо t время, прошедшее с предыдущего кадра.
В коде это может выглядеть так:</p>

<pre><code>// вызывается постоянно, например - каждый раз, когда отрисовывается форма (OnDraw, OnRender или что-то такое)
public void move(float deltaTime)
{
p.Y += speed * deltaTime;
}
</code></pre>

<p>Вот и всё. Никаких motionBlur'ов (лезть в шейдеры, когда прогаешь под WinForms? странно), обычное движение. А привязывать движение к фиксированному фпс очень плохо: фпс никогда не будет точной мерой того, сколько прошло времени.</p>

<p>В вашем решении speed - не скорость в привычном понимании, а количество пикселей, на которое смещается объект за 1 тик таймера - 1 мс. Поэтому у вас возникает проблема "не могу добиться нужной скорости": потому что вы оперируете не скоростью. Нужна скорость 500 пикс/сек? Отлично, смещайте каждый кадр объект на (500 * времени_прошло_с_прошлого_кадра_в_секундах) пикселей.
Ещё замечание: не очень здорово привязывать перемещение на событие таймера, т. к. он может срабатывать либо реже, чем отрисовывается игра, либо чаще - оба случая плохи, т. к. на разных компьютерах игра будет ощущаться абсолютно по-разному, а подобная зависимость - зло.</p>
