{"tags":["c#","entity-framework","linq"],"owner":{"reputation":319,"user_id":241850,"user_type":"registered","accept_rate":100,"profile_image":"https://i.stack.imgur.com/tVCwN.jpg?s=128&g=1","display_name":"Barlukov","link":"https://ru.stackoverflow.com/users/241850/barlukov"},"is_answered":true,"view_count":95,"accepted_answer_id":868029,"answer_count":1,"score":0,"last_activity_date":1534154965,"creation_date":1533928628,"last_edit_date":1533935394,"question_id":867233,"link":"https://ru.stackoverflow.com/questions/867233/%d0%9a%d0%b0%d0%ba-%d0%b2%d1%8b%d0%bf%d0%be%d0%bb%d0%bd%d0%b8%d1%82%d1%8c-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b9-sql-%d0%b7%d0%b0%d0%bf%d1%80%d0%be%d1%81-%d0%b2-c","title":"Как выполнить данный SQL запрос в C#?","body":"<pre><code>SELECT \n    tr3.TimeStart, \n    tr1.Price as PriceStart, \n    tr2.Price as PriceFinish, \n    tr3.PriceHigh, \n    tr3.PriceLow,\n    tr3.Volume \nFROM TradeFill as tr1, \n    TradeFill as tr2, (\n    SELECT \n        FLOOR(UNIX_TIMESTAMP(t1.TimeAdded)/(1 * 1 * 1 * 1)) AS timekey, \n        min(t1.Id) as min_id,\n        max(t1.Id) as max_id,\n        min(t1.TimeAdded) as TimeStart, \n        max(t1.TimeAdded) as t_max,\n        min(t1.Price) as PriceLow, \n        max(t1.Price) as PriceHigh,\n        SUM(t1.Quantity) as Volume\n    FROM \n        TradeFill as t1\n    WHERE t1.TimeAdded BETWEEN \"2018-01-01 00:00:00\" AND \"2018-08-10 23:59:59\"\n    GROUP BY timekey\n) as tr3\nWHERE tr1.Id = tr3.min_id \n    AND tr2.Id = tr3.max_id\n</code></pre>\n\n<p>Пробую так: </p>\n\n<pre><code>var tradeFill = DbContext.TradeFill.FromSql(query).ToList();\n</code></pre>\n\n<p>Выдает ошибку </p>\n\n<pre><code>The required column 'Id' was not present in the results of a 'FromSql' operation\n</code></pre>\n\n<p>В TradeFill нет данных полей которые в SELECT</p>\n\n<p>Как можно просто выполнить данный запрос или может как-то переписать в LINQ</p>\n"}