---
title: "Answer 923475"
se.owner.user_id: 199925
se.owner.display_name: "John Darkman"
se.owner.link: "https://ru.stackoverflow.com/users/199925/john-darkman"
se.answer_id: 923475
se.question_id: 923326
se.post_type: answer
se.score: 0
se.is_accepted: False
---
<p>Технически в современном мире, память делится на виртуальную и физическую. Грубо говоря, физическая память - это набор ячеек и адресов к ним в оперативной памяти. Виртуальная память - отображение адресов физической памяти на некоторые виртуальные адреса с точки зрения процессора. Что это нам дает? Во-первых, отображая физические адреса на виртуальные, мы может изолировать память каждого процесса. Во-вторых, любой процесс может находиться по одинаковому адресу в виртуальной памяти, но всегда в разных местах в физической памяти. В-третьих, мы можем один адрес физической память отображать сразу на несколько адресов виртуальной памяти на каждый процесс, что нам даст возможность разделяемой памяти без лишних дублирований памяти между этими процессами. В-четвертых, благодаря виртуальной памяти, её можно выгружать и загружать обратно при необходимости. Дополнительно виртуальную память можно защищать (например запретить записывать что-то в память с кодом), что было бы невозможно при работе с физической памятью напрямую.</p>

<p>При доступе к отсутствующему / выгруженному адресу виртуальной памяти процессор генерирует прерывание / исключение, которое операционная система перехватывает и загружает на нужный виртуальный адрес ранее выгруженную физическую память и после этого настраивает оборажение физического адреса на виртуальный.</p>

<p>Теперь, что касается вашего вопроса, с точки зрения программы все её переменные хранятся всегда по одним и тем же виртуальным адресам и всегда доступны (если они недоступны, произойдет исключение и ОС загрузит память будто она всегда была загружена, и сделает это незаметно для программы), но адрес в физической памяти может быть разным и меняться в процессе загрузки / выгрузки как угодно. Если вам это действительно нужно, то копать следует в сторону определения физических адресов на которые отображены виртуальные.</p>

<p>Отображение физических адресов на виртуальные происходит настройкой некоторой структуры данных и загрузкой этой структуры в некоторый регистр процессора, после чего процессор делает преобразования между адресами самостоятельно по этой самой структуре. Более подробно можно почитать об этом, найдя информацию по ключевым словам "paging and virtual memory".</p>
