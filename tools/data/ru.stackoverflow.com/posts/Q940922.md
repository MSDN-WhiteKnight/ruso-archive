---
title: "Можно ли из C++/CLR подключить либу на Си?"
se.owner.user_id: 18326
se.owner.display_name: "sitev_ru"
se.owner.link: "https://ru.stackoverflow.com/users/18326/sitev-ru"
se.link: "https://ru.stackoverflow.com/questions/940922/%d0%9c%d0%be%d0%b6%d0%bd%d0%be-%d0%bb%d0%b8-%d0%b8%d0%b7-c-clr-%d0%bf%d0%be%d0%b4%d0%ba%d0%bb%d1%8e%d1%87%d0%b8%d1%82%d1%8c-%d0%bb%d0%b8%d0%b1%d1%83-%d0%bd%d0%b0-%d0%a1%d0%b8"
se.question_id: 940922
se.post_type: question
se.score: 1
---
<p>Пишу приложение на C++/CLR. Пытаюсь подключить Си-библиотеку - начинаются проблемы с компиляцией. Как я понимаю, C++/CLR и Си не дружат, что очень странно. Можно ли как-то решить эту проблему?</p>

<p>Код ошибки:</p>

<blockquote>
  <p>Error LNK2028 unresolved token (0A000874) "extern "C" int __cdecl
  MQTTClient_create(void * *,char const *,char const *,int,void *)"
  (?MQTTClient_create@@$$J0YAHPAPAXPBD1HPAX@Z) referenced in function
  "void __cdecl myfunc(void)" (?myfunc@@$$FYAXXZ)   opc_mqtt</p>
</blockquote>

<p>В линкере:</p>

<blockquote>
  <p>/OUT:"C:\projects\vcpp\opc_mqtt\Debug\test_c_lib_clr.exe" /MANIFEST
  /NXCOMPAT /PDB:"C:\projects\vcpp\opc_mqtt\Debug\test_c_lib_clr.pdb"
  /DYNAMICBASE "paho-mqtt3a.lib" "kernel32.lib" "user32.lib" "gdi32.lib"
  "winspool.lib" "comdlg32.lib" "advapi32.lib" "shell32.lib" "ole32.lib"
  "oleaut32.lib" "uuid.lib" "odbc32.lib" "odbccp32.lib" /DEBUG
  /MACHINE:X86 /INCREMENTAL
  /PGD:"C:\projects\vcpp\opc_mqtt\Debug\test_c_lib_clr.pgd"
  /SUBSYSTEM:CONSOLE /MANIFESTUAC:"level='asInvoker' uiAccess='false'"
  /ManifestFile:"Debug\test_c_lib_clr.exe.intermediate.manifest"
  /ERRORREPORT:PROMPT /NOLOGO /LIBPATH:"C:\mqtt\paho-c\lib" /TLBID:1</p>
</blockquote>
