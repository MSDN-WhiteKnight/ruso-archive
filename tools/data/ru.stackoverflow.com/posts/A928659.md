---
title: "Answer 928659"
se.owner.user_id: 298412
se.owner.display_name: "Aqua"
se.owner.link: "https://ru.stackoverflow.com/users/298412/aqua"
se.answer_id: 928659
se.question_id: 927960
se.post_type: answer
se.score: -1
se.is_accepted: False
---
<p>Вот готовый вариант который можно использовать. Лично моё мнение, достаточно нормальной проверки строки на валидность, а после на наличие элемента по данному пути. </p>

<p>Составил регулярное выражение</p>

<p><strong><em>(если что не так, прошу великих гуру отписаться в комментарий)</em></strong>,</p>

<p>подходит только для полного пути, <em>т.е. <code>D:\\MyFiles\Pictures\pict211.png</code></em>. </p>

<p>Делаем проверку строки, соответствует ли она паттерну, и на наличие файла по заданному пути методом <code>Exist</code> из статического класса <code>File</code></p>

<p>Вот примерный код:</p>

<pre><code>if (new Regex(@"[A-Z]:\\\\(\w+\\)+\w+((.png)|(.jpeg))").IsMatch(IconPath.Text)
      &amp;&amp; File.Exists(IconPath.Text))
{
    //делаем то что нам нужно.
}
</code></pre>

<p>А вообще, вам бы проверки на наличие, было бы достаточно. Ведь если мы в качестве аргумента передадим <em>абракадабру</em>, то метод просто вернет <code>false</code>. </p>

<h2>Удачи в изучении C#</h2>

<p><strong>Aqua</strong></p>

<hr>

<h2>P.S.</h2>

<p>Не сильно напрягался с расширением файла, если нужны другие форматы делайте вот так:</p>

<pre><code>[A-Z]:\\\\(\w+\\)+\w+((.png)|(.jpeg)|(.format№3)|(.format№4)|...)
</code></pre>

<p><em>где вместо <code>format№n</code> пишем нужное нам расширение.</em> </p>
