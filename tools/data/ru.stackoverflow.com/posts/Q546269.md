---
title: "Магия шрифтов по умолчанию в WPF"
se.owner.user_id: 214629
se.owner.display_name: "Vitaliy"
se.owner.link: "https://ru.stackoverflow.com/users/214629/vitaliy"
se.link: "https://ru.stackoverflow.com/questions/546269/%d0%9c%d0%b0%d0%b3%d0%b8%d1%8f-%d1%88%d1%80%d0%b8%d1%84%d1%82%d0%be%d0%b2-%d0%bf%d0%be-%d1%83%d0%bc%d0%be%d0%bb%d1%87%d0%b0%d0%bd%d0%b8%d1%8e-%d0%b2-wpf"
se.question_id: 546269
se.post_type: question
se.score: 24
---
<p>Я заметил, что если при создании шрифта указать пустую строку, то используется шрифт <code>Arial</code>, но он почему-то отрисовывается на несколько пикселей выше, чем <code>Arial</code>, хотя <code>Baseline</code> у них одинаковый и равен 0,921630859375. (VS2015, Windows 10)
С чем это может быть связано и как исправить такое поведение?</p>

<pre><code>textBlock1.FontFamily = new FontFamily("Arial"); // Red,   Baseline = 0,921630859375
textBlock2.FontFamily = new FontFamily("");      // Green, Baseline = 0,921630859375
</code></pre>

<p><a href="https://i.stack.imgur.com/6Aikn.png" rel="noreferrer"><img src="https://i.stack.imgur.com/6Aikn.png" alt="Шрифт &quot;Arial&quot; и &quot;&quot;"></a></p>

<p>Также заметил, что если при создании шрифта указать несуществующий шрифт, то используется уже шрифт <code>Segoe UI</code> и отрисовывается уже прилично выше, чем <code>Segoe UI</code>. Причиной тому скорей всего отличия в <code>Baseline</code>.
Почему <code>Baseline</code> отличаются? Как его можно задать вручную?</p>

<pre><code>textBlock1.FontFamily = new FontFamily("Segoe UI");     // Red,   Baseline = 1,0791015625
textBlock2.FontFamily = new FontFamily("non-existent"); // Green, Baseline = 0,921630859375
</code></pre>

<p>или то же самое в XAML</p>

<pre><code>&lt;Grid&gt;
    &lt;TextBlock Text="Hello World"
               FontSize="160"
               FontFamily="Segoe UI"
               Foreground="Red" /&gt;
    &lt;TextBlock Text="Hello World"
               FontSize="160"
               FontFamily="non-existent"
               Foreground="Green" /&gt;
&lt;/Grid&gt;
</code></pre>

<p><a href="https://i.stack.imgur.com/TDajp.png" rel="noreferrer"><img src="https://i.stack.imgur.com/TDajp.png" alt="Шрифт &quot;Segoe UI&quot; и &quot;non-existent&quot;"></a></p>
