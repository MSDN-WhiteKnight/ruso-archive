{"owner":{"reputation":5144,"user_id":16781,"user_type":"registered","accept_rate":36,"profile_image":"https://www.gravatar.com/avatar/91760a40b13c15f074b11e41cec2ef6b?s=128&d=identicon&r=PG","display_name":"sp7","link":"https://ru.stackoverflow.com/users/16781/sp7"},"is_accepted":false,"score":1,"last_activity_date":1502197137,"creation_date":1502197137,"answer_id":703461,"question_id":701857,"body":"<p>Проверку что не указано недопустимых символов в имени файла или пути можно сделать так:    </p>\n\n<pre><code>private static bool IsValidFilename(string fileName)\n{\n    var invalidChars = string.Join(\"\", Path.GetInvalidFileNameChars());\n    var regex = new Regex(\"[\" + Regex.Escape(string.Join(\"\", invalidChars)) + \"]\");\n\n    return !regex.IsMatch(fileName);\n}\n\nprivate static bool IsValidFilePath(string path)\n{\n    var invalidChars = string.Join(\"\", Path.GetInvalidPathChars());\n    var regex = new Regex(\"[\" + Regex.Escape(string.Join(\"\", invalidChars)) + \"]\");\n\n    return !regex.IsMatch(path);\n}\n\nstatic void Main(string[] args)\n{\n     foreach (var invalidFileNameChar in Path.GetInvalidFileNameChars())\n     {\n         var name = \"Имя\" + invalidFileNameChar;\n         Console.WriteLine($\"{name} --&gt; {IsValidFileName(name)}\");\n     }\n\n     Console.WriteLine(new string('-', 40));\n\n     foreach (var invalidFilePathChar in Path.GetInvalidPathChars())\n     {\n         var path = @\"C:\\my.txt\" + invalidFilePathChar;\n         Console.WriteLine($\"{path} --&gt; {IsValidFilePath(path)}\");\n     }   \n}\n</code></pre>\n"}